
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ERAD 2022 Open Source Workshop &#8212; Project Pythia Cookbook Template</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-pythia-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Environment overview" href="../environment.html" />
    <link rel="prev" title="LROSE Tutorial" href="../../lrose/README.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="132">
    <div class="container-fluid" id="shim"></div>
    <div class="container-fluid" id="banner"></div>
    <nav class="navbar navbar-dark navbar-expand-lg bg-dark fixed-top bd-navbar shadow" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://openradarscience.org/erad2022/README.html">
  <img src="../../_static/erad_white_background.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://www.erad2022.ch">Conference Home</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://openradarscience.org">Open Radar Community</a>
  </li>
  
  
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/openradar/erad2022" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/channel/UCoZPBqJal5uKpO8ZiwzavCw" rel="noopener" target="_blank" title="YouTube">
            <span><i class="fab fa-youtube-square"></i></span>
            <label class="sr-only">YouTube</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    <div class="container-xl">
      <div class="row">
        
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../README.html">
   ERAD 2022 Open Radar Science Shortcourse
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introductions + Overview
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../introductions/getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../introductions/open-science.html">
   An Overview of Open Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../introductions/open-radar.html">
   Open Radar Community
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tool Foundations
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../pyart/README.html">
   Py-ART Tutorial
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart/pyart-basics.html">
     Py-ART Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart/pyart-gridding.html">
     Py-ART Gridding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart/exercice1_swiss_thunderstorm.html">
     Filtering and retrievals on raw Swiss C-band data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart/exercice2_swiss_doppler.html">
     Processing of Doppler wind data from a Swiss volumetric scan
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart/question_pyart_meteoswiss.html">
     Exercice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart/answer_question_pyart_meteoswiss.html">
     Exercice Sample Solution
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../wradlib/README.html">
   Wradlib Tutorial
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../wradlib/wradlib_intro.html">
     An Overview of wradlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../wradlib/wradlib_radar_data_io_vis.html">
     wradlib radar data io, visualisation, gridding and gis export
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../wradlib/wradlib_data_quality.html">
     wradlib data quality
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../wradlib/wradlib_differential_phase.html">
     wradlib Phase Processing - System PhiDP - ZPHI-Method
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../wradlib/wradlib_quasi_vertical_profiles.html">
     wradlib time series data and quasi vertical profiles
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../baltrad/README.html">
   BALTRAD Tutorial
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../baltrad_short_course/BALTRAD%20Compositing.html">
     Compositing with BALTRAD
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../baltrad_short_course/BALTRAD%20DRQC.html">
     In this notebook, we will use the depolarization ratio to quality control a volume of data from the new radar at Radisson, Saskatchewan
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../baltrad_short_course/BALTRAD%20IO.html">
     BALTRAD I/O model - making sense out of data and metadata
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../baltrad_short_course/BALTRAD%20parallel%20processing.html">
     BALTRAD parallel processing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../baltrad_short_course/BALTRAD%20QC.html">
     BALTRAD Quality Control
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../lrose/README.html">
   LROSE Tutorial
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     ERAD 2022 Open Source Workshop
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../environment.html">
   Environment overview
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Open Radar Workflows
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../workflows/README.html">
   Combining Radar Workflows
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../baltrad2wradlib/baltrad2wradlib.html">
     Interaction of BALTRAD and wradlib via ODIM_H5
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart2baltrad/baltrad_pyart_rain_rate_example.html">
     In this notebook, an ODIM_H5 file is read using BALTRAD.  Then the rain rate is determined from the calculated specific attenuation using Py-ART.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pyart2baltrad/pyart_baltrad_dealias_example.html">
     Doppler Velocity Dealiasing with Py-ART and BALTRAD
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Becoming a developer
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../package-development/README.html">
   Developing Open Source Software Packages
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by <a href="https://projectpythia.org">Project Pythia</a>.<br><br>

</div>

</div>

        

        <main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main"><div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/notebooks/lrose/nexrad_mosaic.erad_tutorial.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/openradar/erad2022"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/openradar/erad2022/issues/new?title=Issue%20on%20page%20%2Fnotebooks/lrose/nexrad_mosaic.erad_tutorial.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/openradar/erad2022/edit/main/notebooks/lrose/nexrad_mosaic.erad_tutorial.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> On this page
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   ERAD 2022 Open Source Workshop
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lrose-workflow-combining-3-nexrad-radars-computing-pid-and-echo-type">
     LROSE workflow - combining 3 NEXRAD radars, computing PID and Echo Type
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initialize-python">
     Initialize python
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#download-data-sets-from-web">
     Download data sets from web
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#notes-on-lrose-parameter-files">
   Notes on LROSE Parameter files
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#view-the-radxconvert-parameter-file">
   View the RadxConvert parameter file
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#convert-raw-nexrad-files-to-cfradial-format">
   Convert raw nexrad files to CfRadial format
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-the-cfradial-files-created-by-radxconvert">
   List the CfRadial files created by RadxConvert
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plot-one-example-of-the-nexrad-goodland-radar-kgld-cfradial-files">
   Plot one example of the NEXRAD Goodland radar (KGLD) CfRadial files
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-in-temperature-field-from-ruc-model-to-provide-temperature-profile-for-pid-and-ecco">
     Read in temperature field from RUC model, to provide temperature profile for PID and Ecco
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plot-w-e-and-n-s-vertical-sections-of-temperature-data">
   Plot W-E and N-S vertical sections of temperature data
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sample-ruc-temperatures-at-3-radar-locations-save-in-spdb-data-base">
   Sample RUC temperatures at 3 radar locations, save in SPDB data base
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-sounding-data-base">
   List sounding data base
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-radxrate-on-the-cfradial-files">
   Run RadxRate on the CfRadial files
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-files-created-by-radxrate">
   List files created by RadxRate
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plot-pid-and-rate-results-for-nexrad-goodland-radar-kgld">
   Plot PID and rate results for NEXRAD Goodland radar (KGLD)
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#convert-cfradial-polar-files-to-cartesian">
   Convert CfRadial polar files to Cartesian
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-files-created-by-radx2grid">
   List files created by Radx2Grid
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#merge-cartesian-files-into-mosaic-using-mdvmerge2">
   Merge Cartesian files into mosaic, using MdvMerge2
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#read-in-file-from-radar-mosaic">
   Read in file from radar mosaic
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#create-map-for-cartesian-grid-plotting">
     Create map for Cartesian grid plotting
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plot-column-max-reflectivity-in-plan-view-and-a-n-s-and-w-e-cross-section-of-reflectivity">
     Plot column-max reflectivity in plan view, and a N/S and W/E cross section of reflectivity
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#view-the-ecco-parameter-file">
     View the Ecco parameter file
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run-ecco">
     Run Ecco
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-in-ecco-results-for-a-selected-time">
     Read in Ecco results for a selected time
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compute-the-column-max-of-the-ecco-3-d-results">
     Compute the column-max of the Ecco 3-D results
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plot-the-column-max-of-the-ecco-results">
     Plot the column max of the Ecco results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plot-vertical-sections-for-echo-type">
   Plot vertical sections for Echo Type
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
          <div id="main-content" class="row">
            <div class="col-12 col-md-9 pl-md-3 pr-md-0">
              
              <div>
                
  <div class="section" id="erad-2022-open-source-workshop">
<h1>ERAD 2022 Open Source Workshop<a class="headerlink" href="#erad-2022-open-source-workshop" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="section" id="lrose-workflow-combining-3-nexrad-radars-computing-pid-and-echo-type">
<h2>LROSE workflow - combining 3 NEXRAD radars, computing PID and Echo Type<a class="headerlink" href="#lrose-workflow-combining-3-nexrad-radars-computing-pid-and-echo-type" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<a class="reference internal image-reference" href="../../_images/erad2022_cidd_mosaic.png"><img alt="../../_images/erad2022_cidd_mosaic.png" class="align-right" src="../../_images/erad2022_cidd_mosaic.png" style="width: 400px; height: 400px;" /></a>
<p>The case we will use is from 2021/07/06 22:00 UTC, when a series of MCSs passed through the NW region of Kansas in the USA.</p>
<p>We will combine the reflectivity of 3 NEXRAD radars into a mini-mosaic:</p>
<ul class="simple">
<li><p>KGLD - Goodland, Kansas</p></li>
<li><p>KUEX - Hastings, Nebraska</p></li>
<li><p>KDDC - Dodge City, Kansas</p></li>
</ul>
<p>We will download the following data sets from the cloud:</p>
<ul class="simple">
<li><p>raw NEXRAD files for KGLD, KUEX and KDDC, 2021/07/06 from 22:00 UTC to 22:30 UTC</p></li>
<li><p>RUC model output for Kansas region, CF-NetCDF format, from 2021/07/06 at 23:00 UTC</p></li>
</ul>
<p>The model data will provide a temperature profile for computing PID and Echo Type.</p>
<p>The workflow is as follows:</p>
<ul class="simple">
<li><p>download the data into <code class="docutils literal notranslate"><span class="pre">/tmp/lrose_data/nexrad_mosaic</span></code>.</p></li>
<li><p>run LROSE app RadxConvert, to convert raw NEXRAD files to CfRadial.</p></li>
<li><p>plot an example PPI from KGLD using PyArt.</p></li>
<li><p>read in temperature data from RUC file, plot cross sections using Matplotlib.</p></li>
<li><p>run the LROSE app Mdv2SoundingSpdb to derive the temperature profile for each radar site from the RUC data file, and store in SPDB (a simple time-indexed data base).</p></li>
<li><p>run the LROSE app RadxRate to compute precipition rate and Particle ID (PID).</p></li>
<li><p>plot KDP, PID and precipitation rate for an example PPI.</p></li>
<li><p>run the LROSE app Radx2Grid to convert the polar CfRadial files into Cartesian coordinates.</p></li>
<li><p>run the LROSE app MdvMerge2 to merge the Cartesian files from the 3 radars into a reflectivity mini-mosaic.</p></li>
<li><p>plot selected views of the reflectivity mosaic, using Matplotlib.</p></li>
<li><p>run the LROSE app Ecco to compute the convective/stratiform partition using the reflectivity mosaic and the RUC temperature profile.</p></li>
<li><p>plot the results of Ecco using Matplotlib.</p></li>
</ul>
<p>We will use the following parameter files for the LROSE applications:</p>
<ul class="simple">
<li><p>params/RadxConvert.nexrad - convert raw NEXRAD files to CfRadial.</p></li>
<li><p>params/Mdv2SoundingSpdb.ruc - create temperature profiles for each radar from RUC model temperature.</p></li>
<li><p>params/RadxRate.nexrad - computes KDP, PID and precipition rate.</p></li>
<li><p>params/kdp_params.nexrad - used by RadxRate to compute KDP.</p></li>
<li><p>params/pid_params.nexrad - used by RadxRate to compute PID.</p></li>
<li><p>params/pid_thresholds.nexrad - used by RadxRate to compute PID.</p></li>
<li><p>params/rate_params.nexrad - used by RadxRate to compute precipitation rate.</p></li>
<li><p>params/Ecco.nexrad_mosaic - used by Ecco to compute echo type classifications.</p></li>
</ul>
<p>After the download step, the input files will be in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">lrose_data</span><span class="o">/</span><span class="n">nexrad_mosaic</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">KGLD</span>
  <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">lrose_data</span><span class="o">/</span><span class="n">nexrad_mosaic</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">KUEX</span>
  <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">lrose_data</span><span class="o">/</span><span class="n">nexrad_mosaic</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">KDDC</span>
  <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">lrose_data</span><span class="o">/</span><span class="n">nexrad_mosaic</span><span class="o">/</span><span class="n">mdv</span><span class="o">/</span><span class="n">ruc</span>
</pre></div>
</div>
<p>The output files will be stored in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">lrose_data</span><span class="o">/</span><span class="n">nexrad_mosaic</span><span class="o">/</span><span class="n">cfradial</span> <span class="p">(</span><span class="n">polar</span> <span class="n">data</span><span class="p">)</span>
  <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">lrose_data</span><span class="o">/</span><span class="n">nexrad_mosaic</span><span class="o">/</span><span class="n">mdv</span> <span class="p">(</span><span class="n">Cartesian</span> <span class="n">data</span><span class="p">)</span>
  <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">lrose_data</span><span class="o">/</span><span class="n">nexrad_mosaic</span><span class="o">/</span><span class="n">spdb</span> <span class="p">(</span><span class="n">temperature</span> <span class="n">profile</span> <span class="n">per</span> <span class="n">radar</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="initialize-python">
<h2>Initialize python<a class="headerlink" href="#initialize-python" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1"># Extra packages to be added to anaconda3 standard packages for this notebook:</span>
<span class="c1">#</span>
<span class="c1">#  conda update --all</span>
<span class="c1">#  conda install cartopy netCDF4</span>
<span class="c1">#  conda install -c conda-forge arm_pyart</span>
<span class="c1">#</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">pytz</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mp</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="k">as</span> <span class="nn">plticker</span>
<span class="kn">from</span> <span class="nn">matplotlib.lines</span> <span class="kn">import</span> <span class="n">Line2D</span>
<span class="kn">import</span> <span class="nn">cartopy</span>
<span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">cartopy.io.shapereader</span> <span class="k">as</span> <span class="nn">shpreader</span>
<span class="kn">import</span> <span class="nn">cartopy.geodesic</span> <span class="k">as</span> <span class="nn">cgds</span>
<span class="kn">from</span> <span class="nn">cartopy.mpl.gridliner</span> <span class="kn">import</span> <span class="n">LONGITUDE_FORMATTER</span><span class="p">,</span> <span class="n">LATITUDE_FORMATTER</span>
<span class="kn">from</span> <span class="nn">cartopy</span> <span class="kn">import</span> <span class="n">feature</span> <span class="k">as</span> <span class="n">cfeature</span>
<span class="kn">import</span> <span class="nn">shapely</span>
<span class="kn">import</span> <span class="nn">netCDF4</span> <span class="k">as</span> <span class="nn">nc</span>
<span class="kn">import</span> <span class="nn">pyart</span>

<span class="c1"># Set data dir in environment variable</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;NEXRAD_DATA_DIR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;/tmp/lrose_data/nexrad_mosaic&#39;</span>
<span class="n">nexradDataDir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;NEXRAD_DATA_DIR&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;====&gt;&gt; nexradDataDir: &#39;</span><span class="p">,</span> <span class="n">nexradDataDir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>## You are using the Python ARM Radar Toolkit (Py-ART), an open source
## library for working with weather radar data. Py-ART is partly
## supported by the U.S. Department of Energy as part of the Atmospheric
## Radiation Measurement (ARM) Climate Research Facility, an Office of
## Science user facility.
##
## If you use this software to prepare a publication, please cite:
##
##     JJ Helmus and SM Collis, JORS 2016, doi: 10.5334/jors.119
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>====&gt;&gt; nexradDataDir:  /tmp/lrose_data/nexrad_mosaic
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="download-data-sets-from-web">
<h2>Download data sets from web<a class="headerlink" href="#download-data-sets-from-web" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download input data sets</span>
<span class="c1">#</span>
<span class="c1"># 1. NEXRAD raw data files for KGLD, KDDC and KUEX</span>
<span class="c1"># 2. RUC model data for temperature profile, Kansas and surroundings</span>
<span class="c1">#</span>
<span class="c1"># These will be put in:</span>
<span class="c1">#  ${NEXRAD_DATA_DIR}</span>
<span class="c1">#</span>

<span class="c1"># ensure the data dir exists and is clean</span>

<span class="o">!</span>/bin/rm<span class="w"> </span>-rf<span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span>
<span class="o">!</span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span>

<span class="c1"># download the data from github</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;====&gt;&gt; Downloading data tar files into dir: &quot;</span><span class="p">,</span> <span class="n">nexradDataDir</span><span class="p">)</span>

<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>wget<span class="w"> </span>http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.KGLD.20210706_220000.tgz<span class="w"> </span>
<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>wget<span class="w"> </span>http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.KDDC.20210706_220000.tgz<span class="w"> </span>
<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>wget<span class="w"> </span>http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.KUEX.20210706_220000.tgz<span class="w"> </span>
<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>wget<span class="w"> </span>http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.ruc.20210706_220000.tgz<span class="w"> </span>
 
<span class="c1"># !cd ${NEXRAD_DATA_DIR}; wget https://raw.githubusercontent.com/NCAR/lrose-data-examples/master/notebooks/nexrad_mosaic/nexrad_mosaic.ruc.20210706_220000.tgz</span>
<span class="c1"># !cd ${NEXRAD_DATA_DIR}; wget https://raw.githubusercontent.com/NCAR/lrose-data-examples/master/notebooks/nexrad_mosaic/nexrad_mosaic.KGLD.20210706_220000.tgz</span>
<span class="c1"># !cd ${NEXRAD_DATA_DIR}; wget https://raw.githubusercontent.com/NCAR/lrose-data-examples/master/notebooks/nexrad_mosaic/nexrad_mosaic.KDDC.20210706_220000.tgz</span>
<span class="c1"># !cd ${NEXRAD_DATA_DIR}; wget https://raw.githubusercontent.com/NCAR/lrose-data-examples/master/notebooks/nexrad_mosaic/nexrad_mosaic.KUEX.20210706_220000.tgz</span>

<span class="c1"># extract the data from the tar files</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;====&gt;&gt; The following data files are unpacked in dir: &quot;</span><span class="p">,</span> <span class="n">nexradDataDir</span><span class="p">)</span>
<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>tar<span class="w"> </span>xvfz<span class="w"> </span>nexrad_mosaic.ruc.20210706_220000.tgz
<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>tar<span class="w"> </span>xvfz<span class="w"> </span>nexrad_mosaic.KGLD.20210706_220000.tgz
<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>tar<span class="w"> </span>xvfz<span class="w"> </span>nexrad_mosaic.KDDC.20210706_220000.tgz
<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>tar<span class="w"> </span>xvfz<span class="w"> </span>nexrad_mosaic.KUEX.20210706_220000.tgz

<span class="c1"># clean up</span>

<span class="o">!</span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>/bin/rm<span class="w"> </span>-f<span class="w"> </span>*tgz
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>====&gt;&gt; Downloading data tar files into dir:  /tmp/lrose_data/nexrad_mosaic
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2023-06-20 22:35:32--  http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.KGLD.20210706_220000.tgz
Resolving front.eol.ucar.edu (front.eol.ucar.edu)... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>128.117.43.125
Connecting to front.eol.ucar.edu (front.eol.ucar.edu)|128.117.43.125|:80... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>connected.
HTTP request sent, awaiting response... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK
Length: 74762580 (71M) [application/x-gzip]
Saving to: ‘nexrad_mosaic.KGLD.20210706_220000.tgz’


          nexrad_mo   0%[                    ]       0  --.-KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         nexrad_mos   0%[                    ] 134.24K   660KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        nexrad_mosa   4%[                    ]   3.17M  7.38MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       nexrad_mosai  20%[===&gt;                ]  14.59M  23.1MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      nexrad_mosaic  37%[======&gt;             ]  26.99M  32.4MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     nexrad_mosaic.  55%[==========&gt;         ]  39.60M  38.4MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    nexrad_mosaic.K  72%[=============&gt;      ]  51.38M  40.6MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   nexrad_mosaic.KG  89%[================&gt;   ]  63.59M  43.4MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nexrad_mosaic.KGLD. 100%[===================&gt;]  71.30M  44.4MB/s    in 1.6s    

2023-06-20 22:35:34 (44.4 MB/s) - ‘nexrad_mosaic.KGLD.20210706_220000.tgz’ saved [74762580/74762580]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2023-06-20 22:35:35--  http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.KDDC.20210706_220000.tgz
Resolving front.eol.ucar.edu (front.eol.ucar.edu)... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>128.117.43.125
Connecting to front.eol.ucar.edu (front.eol.ucar.edu)|128.117.43.125|:80... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>connected.
HTTP request sent, awaiting response... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK
Length: 69853288 (67M) [application/x-gzip]
Saving to: ‘nexrad_mosaic.KDDC.20210706_220000.tgz’


          nexrad_mo   0%[                    ]       0  --.-KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         nexrad_mos   0%[                    ] 227.05K   949KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        nexrad_mosa   8%[&gt;                   ]   5.92M  12.9MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       nexrad_mosai  30%[=====&gt;              ]  20.04M  30.4MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      nexrad_mosaic  47%[========&gt;           ]  31.85M  37.1MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     nexrad_mosaic.  65%[============&gt;       ]  43.60M  41.1MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    nexrad_mosaic.K  86%[================&gt;   ]  57.42M  44.8MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nexrad_mosaic.KDDC. 100%[===================&gt;]  66.62M  46.6MB/s    in 1.4s    

2023-06-20 22:35:37 (46.6 MB/s) - ‘nexrad_mosaic.KDDC.20210706_220000.tgz’ saved [69853288/69853288]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2023-06-20 22:35:38--  http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.KUEX.20210706_220000.tgz
Resolving front.eol.ucar.edu (front.eol.ucar.edu)... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>128.117.43.125
Connecting to front.eol.ucar.edu (front.eol.ucar.edu)|128.117.43.125|:80... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>connected.
HTTP request sent, awaiting response... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK
Length: 59062156 (56M) [application/x-gzip]
Saving to: ‘nexrad_mosaic.KUEX.20210706_220000.tgz’


          nexrad_mo   0%[                    ]       0  --.-KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         nexrad_mos   0%[                    ] 228.46K   989KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        nexrad_mosa  10%[=&gt;                  ]   6.10M  13.5MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       nexrad_mosai  35%[======&gt;             ]  20.13M  29.9MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      nexrad_mosaic  58%[==========&gt;         ]  33.23M  38.0MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     nexrad_mosaic.  80%[===============&gt;    ]  45.11M  41.9MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nexrad_mosaic.KUEX. 100%[===================&gt;]  56.33M  44.9MB/s    in 1.3s    

2023-06-20 22:35:39 (44.9 MB/s) - ‘nexrad_mosaic.KUEX.20210706_220000.tgz’ saved [59062156/59062156]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2023-06-20 22:35:40--  http://front.eol.ucar.edu/data/notebooks/nexrad_mosaic/nexrad_mosaic.ruc.20210706_220000.tgz
Resolving front.eol.ucar.edu (front.eol.ucar.edu)... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>128.117.43.125
Connecting to front.eol.ucar.edu (front.eol.ucar.edu)|128.117.43.125|:80... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>connected.
HTTP request sent, awaiting response... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK
Length: 4039462 (3.9M) [application/x-gzip]
Saving to: ‘nexrad_mosaic.ruc.20210706_220000.tgz’


          nexrad_mo   0%[                    ]       0  --.-KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         nexrad_mos   3%[                    ] 128.61K   626KB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>        nexrad_mosa  19%[==&gt;                 ] 757.21K  1.68MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       nexrad_mosai  37%[======&gt;             ]   1.46M  2.17MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      nexrad_mosaic  57%[==========&gt;         ]   2.22M  2.45MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     nexrad_mosaic.  78%[==============&gt;     ]   3.02M  2.65MB/s               
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    nexrad_mosaic.r  99%[==================&gt; ]   3.84M  2.81MB/s               
nexrad_mosaic.ruc.2 100%[===================&gt;]   3.85M  2.81MB/s    in 1.4s    

2023-06-20 22:35:42 (2.81 MB/s) - ‘nexrad_mosaic.ruc.20210706_220000.tgz’ saved [4039462/4039462]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>====&gt;&gt; The following data files are unpacked in dir:  /tmp/lrose_data/nexrad_mosaic
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>mdv/
mdv/ruc/
mdv/ruc/20210706/
mdv/ruc/20210706/20210706_230000.mdv.cf.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KGLD/
raw/KGLD/20210706/
raw/KGLD/20210706/KGLD20210706_220003_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KGLD/20210706/KGLD20210706_220448_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KGLD/20210706/KGLD20210706_220935_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KGLD/20210706/KGLD20210706_221420_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KGLD/20210706/KGLD20210706_221906_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KGLD/20210706/KGLD20210706_222350_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KGLD/20210706/KGLD20210706_222834_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KDDC/
raw/KDDC/20210706/
raw/KDDC/20210706/KDDC20210706_220000_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KDDC/20210706/KDDC20210706_220430_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KDDC/20210706/KDDC20210706_220921_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KDDC/20210706/KDDC20210706_221600_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KDDC/20210706/KDDC20210706_222051_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KDDC/20210706/KDDC20210706_222533_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KUEX/
raw/KUEX/20210706/
raw/KUEX/20210706/KUEX20210706_220249_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KUEX/20210706/KUEX20210706_220723_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KUEX/20210706/KUEX20210706_221204_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KUEX/20210706/KUEX20210706_221633_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KUEX/20210706/KUEX20210706_222102_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>raw/KUEX/20210706/KUEX20210706_222531_V06
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="notes-on-lrose-parameter-files">
<h1>Notes on LROSE Parameter files<a class="headerlink" href="#notes-on-lrose-parameter-files" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<p>All LROSE applications have a detailed parameter file, which is read in at startup.</p>
<p>The parameters allow the user to control the processing in the LROSE apps.</p>
<p>To generate a default parameter file, you use the -print_params option for the app.</p>
<p>For example, for RadxConvert you would use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">RadxConvert</span> <span class="o">-</span><span class="n">print_params</span> <span class="o">&gt;</span> <span class="n">RadxConvert</span><span class="o">.</span><span class="n">nexrad</span>
</pre></div>
</div>
<p>and then edit RadxConvert.nexrad appropriately.</p>
<p>At runtime you would use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">RadxConvert</span> <span class="o">-</span><span class="n">params</span> <span class="n">RadxConvert</span><span class="o">.</span><span class="n">nexrad</span> <span class="o">...</span> <span class="n">etc</span> <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="view-the-radxconvert-parameter-file">
<h1>View the RadxConvert parameter file<a class="headerlink" href="#view-the-radxconvert-parameter-file" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<p>Note that we can use environment variables in the parameter files.</p>
<p>Environment variables are inserted using the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  $(env_var_name)
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">input_dir</span> <span class="o">=</span> <span class="s2">&quot;$(NEXRAD_DATA_DIR)/raw/$(RADAR_NAME)&quot;</span><span class="p">;</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the param file</span>
<span class="o">!</span>cat<span class="w"> </span>./params/RadxConvert.nexrad
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/**********************************************************************
 * TDRP params for RadxConvert
 **********************************************************************/

//======================================================================
//
// Converts files between CfRadial and other radial formats.
//
//======================================================================
 
//======================================================================
//
// DEBUGGING.
//
//======================================================================
 
///////////// debug ///////////////////////////////////
//
// Debug option.
// If set, debug messages will be printed appropriately.
//
// Type: enum
// Options:
//     DEBUG_OFF
//     DEBUG_NORM
//     DEBUG_VERBOSE
//     DEBUG_EXTRA
//

debug = DEBUG_OFF;

///////////// instance ////////////////////////////////
//
// Program instance for process registration.
// This application registers with procmap. This is the instance used 
//   for registration.
// Type: string
//

instance = &quot;$(RADAR_NAME)&quot;;

//======================================================================
//
// DATA INPUT.
//
//======================================================================
 
///////////// input_dir ///////////////////////////////
//
// Input directory for searching for files.
// Files will be searched for in this directory.
// Type: string
//

input_dir = &quot;$(NEXRAD_DATA_DIR)/raw/$(RADAR_NAME)&quot;;

///////////// mode ////////////////////////////////////
//
// Operating mode.
// In REALTIME mode, the program waits for a new input file.  In ARCHIVE 
//   mode, it moves through the data between the start and end times set 
//   on the command line. In FILELIST mode, it moves through the list of 
//   file names specified on the command line. Paths (in ARCHIVE mode, at 
//   least) MUST contain a day-directory above the data file -- 
//   ./data_file.ext will not work as a file path, but 
//   ./yyyymmdd/data_file.ext will.
//
// Type: enum
// Options:
//     REALTIME
//     ARCHIVE
//     FILELIST
//

mode = ARCHIVE;

///////////// max_realtime_data_age_secs //////////////
//
// Maximum age of realtime data (secs).
// Only data less old than this will be used.
// Type: int
//

max_realtime_data_age_secs = 300;

///////////// latest_data_info_avail //////////////////
//
// Is _latest_data_info file available?.
// If TRUE, will watch the latest_data_info file. If FALSE, will scan 
//   the input directory for new files.
// Type: boolean
//

latest_data_info_avail = FALSE;

///////////// search_recursively //////////////////////
//
// Option to recurse to subdirectories while looking for new files.
// If TRUE, all subdirectories with ages less than max_dir_age will be 
//   searched. This may take considerable CPU, so be careful in its use. 
//   Only applies if latest_data_info_avail is FALSE.
// Type: boolean
//

search_recursively = TRUE;

///////////// max_recursion_depth /////////////////////
//
// Maximum depth for recursive directory scan.
// Only applies search_recursively is TRUE. This is the max depth, below 
//   input_dir, to which the recursive directory search will be carried 
//   out. A depth of 0 will search the top-level directory only. A depth 
//   of 1 will search the level below the top directory, etc.
// Type: int
//

max_recursion_depth = 5;

///////////// wait_between_checks /////////////////////
//
// Sleep time between checking directory for input - secs.
// If a directory is large and files do not arrive frequently, set this 
//   to a higher value to reduce the CPU load from checking the directory. 
//   Only applies if latest_data_info_avail is FALSE.
// Minimum val: 1
// Type: int
//

wait_between_checks = 2;

///////////// file_quiescence /////////////////////////
//
// File quiescence when checking for files - secs.
// This allows you to make sure that a file coming from a remote machine 
//   is complete before reading it. Only applies if latest_data_info_avail 
//   is FALSE.
// Type: int
//

file_quiescence = 60;

///////////// search_ext //////////////////////////////
//
// File name extension.
// If set, only files with this extension will be processed.
// Type: string
//

search_ext = &quot;&quot;;

///////////// gematronik_realtime_mode ////////////////
//
// Set to TRUE if we are watching for Gematronik XML volumes.
// Gematronik volumes (for a given time) are stored in multiple files, 
//   one for each field. Therefore, after the time on a volume changes and 
//   a new field file is detected, we need to wait a while to ensure that 
//   all of the files have had a chance to be writted to disk. You need to 
//   set gematronik_realtime_wait_secs to a value in excess of the time it 
//   takes for all of the files to be written.
// Type: boolean
//

gematronik_realtime_mode = FALSE;

///////////// gematronik_realtime_wait_secs ///////////
//
// Number of seconds to wait, so that all field files can be written to 
//   disk before we start to read.
// See &#39;gematronik_realtime_mode&#39;.
// Type: int
//

gematronik_realtime_wait_secs = 5;

//======================================================================
//
// OPTIONAL FIXED ANGLE OR SWEEP NUMBER LIMITS.
//
// Fixed angles are elevation in PPI mode and azimuth in RHI mode.
//
//======================================================================
 
///////////// set_fixed_angle_limits //////////////////
//
// Option to set fixed angle limits.
// Only use sweeps within the specified fixed angle limits.
// Type: boolean
//

set_fixed_angle_limits = FALSE;

///////////// lower_fixed_angle_limit /////////////////
//
// Lower fixed angle limit - degrees.
// Type: double
//

lower_fixed_angle_limit = 0;

///////////// upper_fixed_angle_limit /////////////////
//
// Upper fixed angle limit - degrees.
// Type: double
//

upper_fixed_angle_limit = 90;

///////////// set_sweep_num_limits ////////////////////
//
// Option to set sweep number limits.
// If &#39;apply_strict_angle_limits&#39; is set, only read sweeps within the 
//   specified limits. If strict checking is false and no data lies within 
//   the limits, return the closest applicable sweep.
// Type: boolean
//

set_sweep_num_limits = FALSE;

///////////// lower_sweep_num /////////////////////////
//
// Lower sweep number limit.
// Type: int
//

lower_sweep_num = 0;

///////////// upper_sweep_num /////////////////////////
//
// Upper sweep number limit.
// Type: int
//

upper_sweep_num = 0;

///////////// apply_strict_angle_limits ///////////////
//
// Option to apply strict checking for angle or sweep number limits on 
//   read.
// If true, an error will occur if the fixed angle limits or sweep num 
//   limits are outside the bounds of the data. If false, a read is 
//   guaranteed to return at least 1 sweep - if no sweep lies within the 
//   angle limits set, the nearest sweep will be returned.
// Type: boolean
//

apply_strict_angle_limits = TRUE;

///////////// read_set_radar_num //////////////////////
//
// Option to set the radar number.
// See read_radar_num.
// Type: boolean
//

read_set_radar_num = FALSE;

///////////// read_radar_num //////////////////////////
//
// Set the radar number for the data to be extracted.
// Most files have data from a single radar, so this does not apply. The 
//   NOAA HRD files, however, have data from both the lower fuselage (LF, 
//   radar_num = 1) and tail (TA, radar_num = 2) radars. For HRD files, by 
//   default the TA radar will be used, unless the radar num is set to 1 
//   for the LF radar.
// Type: int
//

read_radar_num = 0;

//======================================================================
//
// READ OPTIONS.
//
//======================================================================
 
///////////// aggregate_sweep_files_on_read ///////////
//
// Option to aggregate sweep files into a volume on read.
// If true, and the input data is in sweeps rather than volumes (e.g. 
//   DORADE), the sweep files from a volume will be aggregated into a 
//   volume.
// Type: boolean
//

aggregate_sweep_files_on_read = FALSE;

///////////// aggregate_all_files_on_read /////////////
//
// Option to aggregate all files in the file list on read.
// If true, all of the files specified with the &#39;-f&#39; arg will be 
//   aggregated into a single volume as they are read in. This only 
//   applies to FILELIST mode. Overrides &#39;aggregate_sweep_files_on_read&#39;.
// Type: boolean
//

aggregate_all_files_on_read = FALSE;

///////////// ignore_idle_scan_mode_on_read ///////////
//
// Option to ignore data taken in IDLE mode.
// If true, on read will ignore files with an IDLE scan mode.
// Type: boolean
//

ignore_idle_scan_mode_on_read = TRUE;

///////////// remove_rays_with_all_data_missing ///////
//
// Option to remove rays for which all data is missing.
// If true, ray data will be checked. If all fields have missing data at 
//   all gates, the ray will be removed after reading.
// Type: boolean
//

remove_rays_with_all_data_missing = FALSE;

///////////// remove_rays_with_antenna_transitions ////
//
// Option to remove rays taken while the antenna was in transition.
// If true, rays with the transition flag set will not be used. The 
//   transiton flag is set when the antenna is in transtion between one 
//   sweep and the next.
// Type: boolean
//

remove_rays_with_antenna_transitions = FALSE;

///////////// transition_nrays_margin /////////////////
//
// Number of transition rays to include as a margin.
// Sometimes the transition flag is turned on too early in a transition, 
//   on not turned off quickly enough after a transition. If you set this 
//   to a number greater than 0, that number of rays will be included at 
//   each end of the transition, i.e. the transition will effectively be 
//   shorter at each end by this number of rays.
// Type: int
//

transition_nrays_margin = 0;

///////////// trim_surveillance_sweeps_to_360deg //////
//
// Option to trip surveillance sweeps so that they only cover 360 
//   degrees.
// Some sweeps will have rays which cover more than a 360-degree 
//   rotation. Often these include antenna transitions. If this is set to 
//   true, rays are trimmed off either end of the sweep to limit the 
//   coverage to 360 degrees. The median elevation angle is computed and 
//   the end ray which deviates from the median in elevation is trimmed 
//   first.
// Type: boolean
//

trim_surveillance_sweeps_to_360deg = FALSE;

///////////// set_max_range ///////////////////////////
//
// Option to set the max range for any ray.
// Type: boolean
//

set_max_range = TRUE;

///////////// max_range_km ////////////////////////////
//
// Specified maximim range - km.
// Gates beyond this range are removed.
// Type: double
//

max_range_km = 230.0;

///////////// preserve_sweeps /////////////////////////
//
// Preserve sweeps just as they are in the file.
// Applies generally to NEXRAD data. If true, the sweep details are 
//   preserved. If false, we consolidate sweeps from split cuts into a 
//   single sweep.
// Type: boolean
//

preserve_sweeps = FALSE;

///////////// remove_long_range_rays //////////////////
//
// Option to remove long range rays.
// Applies to NEXRAD data. If true, data from the non-Doppler long-range 
//   sweeps will be removed.
// Type: boolean
//

remove_long_range_rays = TRUE;

///////////// remove_short_range_rays /////////////////
//
// Option to remove short range rays.
// Applies to NEXRAD data. If true, data from the Doppler short-range 
//   sweeps will be removed.
// Type: boolean
//

remove_short_range_rays = FALSE;

///////////// set_ngates_constant /////////////////////
//
// Option to force the number of gates to be constant.
// If TRUE, the number of gates on all rays will be set to the maximum, 
//   and gates added to shorter rays will be filled with missing values.
// Type: boolean
//

set_ngates_constant = FALSE;

//======================================================================
//
// OPTION TO OVERRIDE INSTRUMENT AND/OR NAME.
//
//======================================================================
 
///////////// override_instrument_name ////////////////
//
// Option to override the instrument name.
// If true, the name provided will be used.
// Type: boolean
//

override_instrument_name = FALSE;

///////////// instrument_name /////////////////////////
//
// Instrument name.
// See override_instrument_name.
// Type: string
//

instrument_name = &quot;unknown&quot;;

///////////// override_site_name //////////////////////
//
// Option to override the site name.
// If true, the name provided will be used.
// Type: boolean
//

override_site_name = FALSE;

///////////// site_name ///////////////////////////////
//
// Site name.
// See override_site_name.
// Type: string
//

site_name = &quot;unknown&quot;;

//======================================================================
//
// OPTION TO OVERRIDE RADAR LOCATION.
//
//======================================================================
 
///////////// override_radar_location /////////////////
//
// Option to override the radar location.
// If true, the location in this file will be used. If not, the location 
//   in the time series data will be used.
// Type: boolean
//

override_radar_location = FALSE;

///////////// radar_latitude_deg //////////////////////
//
// Radar latitude (deg).
// See override_radar_location.
// Type: double
//

radar_latitude_deg = -999;

///////////// radar_longitude_deg /////////////////////
//
// Radar longitude (deg).
// See override_radar_location.
// Type: double
//

radar_longitude_deg = -999;

///////////// radar_altitude_meters ///////////////////
//
// Radar altitude (meters).
// See override_radar_location.
// Type: double
//

radar_altitude_meters = -999;

///////////// change_radar_latitude_sign //////////////
//
// Option to negate the latitude.
// Mainly useful for RAPIC files. In RAPIC, latitude is always positive, 
//   so mostly you need to set the latitiude to the negative value of 
//   itself.
// Type: boolean
//

change_radar_latitude_sign = FALSE;

///////////// apply_georeference_corrections //////////
//
// Option to apply the georeference info for moving platforms.
// For moving platforms, measured georeference information is sometimes 
//   available. If this is set to true, the georeference data is applied 
//   and appropriate corrections made. If possible, Earth-centric azimuth 
//   and elevation angles will be computed.
// Type: boolean
//

apply_georeference_corrections = FALSE;

//======================================================================
//
// OPTION TO OVERRIDE SELECTED GLOBAL ATTRIBUTES.
//
//======================================================================
 
///////////// version_override ////////////////////////
//
// Option to override the version global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the version attribute.
// Type: string
//

version_override = &quot;&quot;;

///////////// title_override //////////////////////////
//
// Option to override the title global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the title attribute.
// Type: string
//

title_override = &quot;&quot;;

///////////// institution_override ////////////////////
//
// Option to override the institution global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the institution attribute.
// Type: string
//

institution_override = &quot;&quot;;

///////////// references_override /////////////////////
//
// Option to override the references global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the references attribute.
// Type: string
//

references_override = &quot;&quot;;

///////////// source_override /////////////////////////
//
// Option to override the source global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the source attribute.
// Type: string
//

source_override = &quot;&quot;;

///////////// history_override ////////////////////////
//
// Option to override the history global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the history attribute.
// Type: string
//

history_override = &quot;&quot;;

///////////// comment_override ////////////////////////
//
// Option to override the comment global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the comment attribute.
// Type: string
//

comment_override = &quot;&quot;;

///////////// author_override /////////////////////////
//
// Option to override the author global attribute.
// If empty, no effect. If not empty, this string is used to override 
//   the author attribute.
// Type: string
//

author_override = &quot;&quot;;

//======================================================================
//
// OPTION TO CORRECT ANTENNA ANGLES.
//
//======================================================================
 
///////////// apply_azimuth_offset ////////////////////
//
// Option to apply an offset to the azimuth values.
// If TRUE, this offset will be ADDED to the measured azimuth angles. 
//   This is useful, for example, in the case of a mobile platform which 
//   is not set up oriented to true north. Suppose you have a truck (like 
//   the DOWs) which is oriented off true north. Then if you add in the 
//   truck HEADING relative to true north, the measured azimuth angles 
//   will be adjusted by the heading, to give azimuth relative to TRUE 
//   north.
// Type: boolean
//

apply_azimuth_offset = FALSE;

///////////// azimuth_offset //////////////////////////
//
// Azimuth offset (degrees).
// See &#39;apply_azimuth_offset&#39;. This value will be ADDED to the measured 
//   azimuths.
// Type: double
//

azimuth_offset = 0;

///////////// apply_elevation_offset //////////////////
//
// Option to apply an offset to the elevation values.
// If TRUE, this offset will be ADDED to the measured elevation angles. 
//   This is useful to correct for a systematic bias in measured elevation 
//   angles.
// Type: boolean
//

apply_elevation_offset = FALSE;

///////////// elevation_offset ////////////////////////
//
// Elevation offset (degrees).
// See &#39;apply_elevation_offset&#39;. This value will be ADDED to the 
//   measured elevations.
// Type: double
//

elevation_offset = 0;

//======================================================================
//
// OPTION TO SPECIFY FIELD NAMES AND OUTPUT ENCODING.
//
//======================================================================
 
///////////// set_output_fields ///////////////////////
//
// Set the field names and output encoding.
// If false, all fields will be used.
// Type: boolean
//

set_output_fields = TRUE;

///////////// output_fields ///////////////////////////
//
// Output field details.
// Set the details for the output fields. The output_field_name is the 
//   ndtCDF variable name. Set the long name to a more descriptive name. 
//   Set the standard name to the CF standard name for this field. If the 
//   long name or standard name are empty, the existing names are used. If 
//   SCALING_SPECIFIED, then the scale and offset is used.
//
// Type: struct
//   typedef struct {
//      string input_field_name;
//      string output_field_name;
//      string long_name;
//      string standard_name;
//      string output_units;
//      output_encoding_t encoding;
//        Options:
//          OUTPUT_ENCODING_ASIS
//          OUTPUT_ENCODING_FLOAT32
//          OUTPUT_ENCODING_INT32
//          OUTPUT_ENCODING_INT16
//          OUTPUT_ENCODING_INT08
//      output_scaling_t output_scaling;
//        Options:
//          SCALING_DYNAMIC
//          SCALING_SPECIFIED
//      double output_scale;
//      double output_offset;
//   }
//
// 1D array - variable length.
//

output_fields = {
  {
    input_field_name = &quot;REF&quot;,
    output_field_name = &quot;DBZ&quot;,
    long_name = &quot;radar_reflectivity&quot;,
    standard_name = &quot;equivalent_reflectivity_factor&quot;,
    output_units = &quot;dBZ&quot;,
    encoding = OUTPUT_ENCODING_INT16,
    output_scaling = SCALING_DYNAMIC,
    output_scale = 0.01,
    output_offset = 0
  }
  ,
  {
    input_field_name = &quot;VEL&quot;,
    output_field_name = &quot;VEL&quot;,
    long_name = &quot;radial_velocity&quot;,
    standard_name = &quot;radial_velocity_of_scatterers_away_from_instrument&quot;,
    output_units = &quot;m/s&quot;,
    encoding = OUTPUT_ENCODING_INT16,
    output_scaling = SCALING_DYNAMIC,
    output_scale = 0.01,
    output_offset = 0
  }
  ,
  {
    input_field_name = &quot;SW&quot;,
    output_field_name = &quot;WIDTH&quot;,
    long_name = &quot;spectrum_width&quot;,
    standard_name = &quot;doppler_spectrum_width&quot;,
    output_units = &quot;m/s&quot;,
    encoding = OUTPUT_ENCODING_INT16,
    output_scaling = SCALING_DYNAMIC,
    output_scale = 0.01,
    output_offset = 0
  }
  ,
  {
    input_field_name = &quot;ZDR&quot;,
    output_field_name = &quot;ZDR&quot;,
    long_name = &quot;differential_reflectivity&quot;,
    standard_name = &quot;log_differential_reflectivity_hv&quot;,
    output_units = &quot;dB&quot;,
    encoding = OUTPUT_ENCODING_INT16,
    output_scaling = SCALING_DYNAMIC,
    output_scale = 0.01,
    output_offset = 0
  }
  ,
  {
    input_field_name = &quot;PHI&quot;,
    output_field_name = &quot;PHIDP&quot;,
    long_name = &quot;differential_phase&quot;,
    standard_name = &quot;differential_phase_hv&quot;,
    output_units = &quot;deg&quot;,
    encoding = OUTPUT_ENCODING_INT16,
    output_scaling = SCALING_DYNAMIC,
    output_scale = 0.01,
    output_offset = 0
  }
  ,
  {
    input_field_name = &quot;RHO&quot;,
    output_field_name = &quot;RHOHV&quot;,
    long_name = &quot;cross_correlation&quot;,
    standard_name = &quot;cross_correlation_ratio_hv&quot;,
    output_units = &quot;&quot;,
    encoding = OUTPUT_ENCODING_INT16,
    output_scaling = SCALING_DYNAMIC,
    output_scale = 0.01,
    output_offset = 0
  }
};

///////////// write_other_fields_unchanged ////////////
//
// Option to write out the unspecified fields as they are.
// If false, only the fields listed in output_fields will be written. If 
//   this is true, all other fields will be written unchanged.
// Type: boolean
//

write_other_fields_unchanged = FALSE;

///////////// exclude_specified_fields ////////////////
//
// Option to exclude fields in the specified list.
// If true, the specified fields will be excluded. This may be easier 
//   than specifiying all of the fields to be included, if that list is 
//   very long.
// Type: boolean
//

exclude_specified_fields = FALSE;

///////////// excluded_fields /////////////////////////
//
// List of fields to be excluded.
// List the names to be excluded.
// Type: string
// 1D array - variable length.
//

excluded_fields = {
 &quot;DBZ&quot;,
 &quot;VEL&quot;
};

//======================================================================
//
// OPTION TO SPECIFY OUTPUT ENCODING FOR ALL FIELDS.
//
//======================================================================
 
///////////// set_output_encoding_for_all_fields //////
//
// Option to set output encoding for all fields.
// Type: boolean
//

set_output_encoding_for_all_fields = FALSE;

///////////// output_encoding /////////////////////////
//
// Output encoding for all fields, if requested.
//
// Type: enum
// Options:
//     OUTPUT_ENCODING_ASIS
//     OUTPUT_ENCODING_FLOAT32
//     OUTPUT_ENCODING_INT32
//     OUTPUT_ENCODING_INT16
//     OUTPUT_ENCODING_INT08
//

output_encoding = OUTPUT_ENCODING_ASIS;

//======================================================================
//
// CENSORING.
//
// You have the option of censoring the data fields - i.e. setting the 
//   fields to missing values - at gates which meet certain criteria. If 
//   this is done correctly, it allows you to preserve the valid data and 
//   discard the noise, thereby improving compression.
//
//======================================================================
 
///////////// apply_censoring /////////////////////////
//
// Apply censoring based on field values and thresholds.
// If TRUE, censoring will be performed. See &#39;censoring_fields&#39; for 
//   details on how the censoring is applied.
// Type: boolean
//

apply_censoring = FALSE;

///////////// censoring_fields ////////////////////////
//
// Fields to be used for censoring.
// Specify the fields to be used to determine whether a gate should be 
//   censored. The name refers to the input data field names. Valid field 
//   values lie in the range from min_valid_value to max_valid_value 
//   inclusive. If the value of a field at a gate lies within this range, 
//   it is considered valid. Each specified field is examined at each 
//   gate, and is flagged as valid if its value lies in the valid range. 
//   These field flags are then combined as follows: first, all of the 
//   LOGICAL_OR flags are combined, yielding a single combined_or flag 
//   which is true if any of the LOGICAL_OR fields is true. The 
//   combined_or flag is then combined with all of the LOGICAL_AND fields, 
//   yielding a true value only if the combined_or flag and the 
//   LOGICAL_AND fields are all true. If this final flag is true, then the 
//   data at the gate is regarded as valid and is retained. If the final 
//   flag is false, the data at the gate is censored, and all of the 
//   fields at the gate are set to missing.
//
// Type: struct
//   typedef struct {
//      string name;
//      double min_valid_value;
//      double max_valid_value;
//      logical_t combination_method;
//        Options:
//          LOGICAL_AND
//          LOGICAL_OR
//   }
//
// 1D array - variable length.
//

censoring_fields = {
  {
    name = &quot;SNR&quot;,
    min_valid_value = 0,
    max_valid_value = 1000,
    combination_method = LOGICAL_OR
  }
  ,
  {
    name = &quot;NCP&quot;,
    min_valid_value = 0.15,
    max_valid_value = 1000,
    combination_method = LOGICAL_OR
  }
};

///////////// censoring_min_valid_run /////////////////
//
// Minimum valid run of non-censored gates.
// Only active if set to 2 or greater. A check is made to remove short 
//   runs of noise. Looking along the radial, we compute the number of 
//   contiguous gates (a &#39;run&#39;) with uncensored data. For the gates in 
//   this run to be accepted the length of the run must exceed 
//   censoring_min_valid_run. If the number of gates in a run is less than 
//   this, then all gates in the run are censored.
// Type: int
//

censoring_min_valid_run = 1;

//======================================================================
//
// OPTION TO APPLY LINEAR TRANSFORM TO SPECIFIED FIELDS.
//
// These transforms are fixed. The same transform is applied to all 
//   files.
//
//======================================================================
 
///////////// apply_linear_transforms /////////////////
//
// Apply linear transform to specified fields.
// If true, we will apply a linear transform to selected fields.
// Type: boolean
//

apply_linear_transforms = FALSE;

///////////// transform_fields ////////////////////////
//
// transform field details.
// Set the field name, scale and offset to be applied to the selected 
//   fields. NOTE: the field name is the INPUT field name.
//
// Type: struct
//   typedef struct {
//      string input_field_name;
//      double transform_scale;
//      double transform_offset;
//   }
//
// 1D array - variable length.
//

transform_fields = {
  {
    input_field_name = &quot;DBZ&quot;,
    transform_scale = 1,
    transform_offset = 0
  }
  ,
  {
    input_field_name = &quot;VEL&quot;,
    transform_scale = 1,
    transform_offset = 0
  }
};

//======================================================================
//
// OPTION TO APPLY VARIABLE LINEAR TRANSFORM TO SPECIFIED FIELDS.
//
// These transforms vary from file to file, controlled by specific 
//   metadata.
//
//======================================================================
 
///////////// apply_variable_transforms ///////////////
//
// Apply linear transforms that vary based on specific metadata.
// If true, we will apply variable linear transform to selected fields.
// Type: boolean
//

apply_variable_transforms = FALSE;

///////////// variable_transform_fields ///////////////
//
// Details for variable transforms.
// We based the field decision off the input_field_name. You need to 
//   pick the method of control: STATUS_XML_FIELD - based on the value 
//   associated with an XML tag in the status block; ELEVATION_DEG - based 
//   on the elevation in degrees; PULSE_WIDTH_US - based on the pulse with 
//   in microsecs. For STATUS_XML_FIELD Set the relevant status_xml_tag, 
//   which will be used to find the relevant value. The lookup table is a 
//   series of entries specifying the metadata_value and the scale and 
//   offset to be appied for that given metadata value. Each entry is 
//   enclosed in parentheses, and is of the form (metadata_value, scale, 
//   offset). The entries themselves are also are comma-separated. 
//   Interpolation is used for metadata values that lie between those 
//   specified in the lookup table. The enries in the lookup table should 
//   have metadata_values that are monotonically increasing.
//
// Type: struct
//   typedef struct {
//      string input_field_name;
//      variable_transform_control_t control;
//        Options:
//          STATUS_XML_FIELD
//      string xml_tag;
//      string lookup_table;
//   }
//
// 1D array - variable length.
//

variable_transform_fields = {
  {
    input_field_name = &quot;dBZ&quot;,
    control = STATUS_XML_FIELD,
    xml_tag = &quot;gdrxanctxfreq&quot;,
    lookup_table = &quot;(57.0, 1.0, -0.7), (60.0, 1.0, -0.2), (64.0, 1.0, -0.3), (67.0, 1.0, -1.8), (68.0, 1.0, -1.2), (69.0, 1.0, -1.3)&quot;
  }
  ,
  {
    input_field_name = &quot;dBZv&quot;,
    control = STATUS_XML_FIELD,
    xml_tag = &quot;gdrxanctxfreq&quot;,
    lookup_table = &quot;(57.0, 1.0, 0.1), (58.0, 1.0, 0.3), (60.0, 1.0, -0.3), (67.0, 1.0, -2.3), (69.0, 1.0, -2.0)&quot;
  }
  ,
  {
    input_field_name = &quot;ZDR&quot;,
    control = STATUS_XML_FIELD,
    xml_tag = &quot;gdrxanctxfreq&quot;,
    lookup_table = &quot;(56.0, 1.0, -0.75), (58.0, 1.0, -0.75), (61.0, 1.0, 0.1), (63.5, 1.0, 0.2), (64.0, 1.0, 0.6), (69.0, 1.0, 0.6)&quot;
  }
};

//======================================================================
//
// OUTPUT FORMAT.
//
//======================================================================
 
///////////// output_format ///////////////////////////
//
// Format for the output files.
//
// Type: enum
// Options:
//     OUTPUT_FORMAT_CFRADIAL
//     OUTPUT_FORMAT_DORADE
//     OUTPUT_FORMAT_FORAY
//     OUTPUT_FORMAT_NEXRAD
//     OUTPUT_FORMAT_UF
//     OUTPUT_FORMAT_MDV_RADIAL
//

output_format = OUTPUT_FORMAT_CFRADIAL;

///////////// netcdf_style ////////////////////////////
//
// NetCDF style - if output_format is CFRADIAL.
// netCDF classic format, netCDF 64-bit offset format, netCDF4 using 
//   HDF5 format, netCDF4 using HDF5 format but only netCDF3 calls.
//
// Type: enum
// Options:
//     CLASSIC
//     NC64BIT
//     NETCDF4
//     NETCDF4_CLASSIC
//

netcdf_style = NETCDF4;

//======================================================================
//
// OUTPUT BYTE-SWAPPING and COMPRESSION.
//
//======================================================================
 
///////////// output_native_byte_order ////////////////
//
// Option to leave data in native byte order.
// If false, data will be byte-swapped as appropriate on output.
// Type: boolean
//

output_native_byte_order = FALSE;

///////////// output_compressed ///////////////////////
//
// Option to compress data fields on output.
// Applies to netCDF and Dorade. UF does not support compression.
// Type: boolean
//

output_compressed = TRUE;

//======================================================================
//
// OUTPUT OPTIONS FOR CfRadial FILES.
//
//======================================================================
 
///////////// output_force_ngates_vary ////////////////
//
// Option to force the use of ragged arrays for CfRadial files.
// Only applies to CfRadial. If true, forces the use of ragged arrays 
//   even if the number of gates for all rays is constant.
// Type: boolean
//

output_force_ngates_vary = FALSE;

///////////// compression_level ///////////////////////
//
// Compression level for output, if compressed.
// Applies to netCDF only. Dorade compression is run-length encoding, 
//   and has not options..
// Type: int
//

compression_level = 4;

//======================================================================
//
// OUTPUT DIRECTORY AND FILE NAME.
//
//======================================================================
 
///////////// output_dir //////////////////////////////
//
// Output directory path.
// Files will be written to this directory.
// Type: string
//

output_dir = &quot;$(NEXRAD_DATA_DIR)/cfradial/moments/$(RADAR_NAME)&quot;;

///////////// output_filename_mode ////////////////////
//
// Mode for computing output file name.
// START_AND_END_TIMES: include both start and end times in file name. 
//   START_TIME_ONLY: include only start time in file name. END_TIME_ONLY: 
//   include only end time in file name. SPECIFY_FILE_NAME: file of this 
//   name will be written to output_dir.
//
// Type: enum
// Options:
//     START_AND_END_TIMES
//     START_TIME_ONLY
//     END_TIME_ONLY
//     SPECIFY_FILE_NAME
//

output_filename_mode = START_AND_END_TIMES;

///////////// output_filename_prefix //////////////////
//
// Optional prefix for output filename.
// If empty, the standard prefix will be used.
// Type: string
//

output_filename_prefix = &quot;&quot;;

///////////// include_instrument_name_in_file_name ////
//
// Option to include the instrument name in the file name.
// Default is true. Only applies to CfRadial files. If true, the 
//   instrument name will be included just before the volume number in the 
//   output file name.
// Type: boolean
//

include_instrument_name_in_file_name = TRUE;

///////////// include_subsecs_in_file_name ////////////
//
// Option to include sub-seconds in date-time part of file name.
// Default is true. Only applies to CfRadial files. If true, the 
//   millisecs of the start and end time will be included in the file 
//   name.
// Type: boolean
//

include_subsecs_in_file_name = TRUE;

///////////// use_hyphen_in_file_name_datetime_part ///
//
// Option to use a hyphen between date and time in filename.
// Default is false. Only applies to CfRadial files. Normally an 
//   underscore is used.
// Type: boolean
//

use_hyphen_in_file_name_datetime_part = FALSE;

///////////// output_filename /////////////////////////
//
// Name of output file.
// Applies only if output_filename_mode is SPECIFY_FILE_NAME. File of 
//   this name will be written to output_dir.
// Type: string
//

output_filename = &quot;cfradial.test.nc&quot;;

///////////// append_day_dir_to_output_dir ////////////
//
// Add the day directory to the output directory.
// Path will be output_dir/yyyymmdd/filename.
// Type: boolean
//

append_day_dir_to_output_dir = TRUE;

///////////// append_year_dir_to_output_dir ///////////
//
// Add the year directory to the output directory.
// Path will be output_dir/yyyy/yyyymmdd/filename.
// Type: boolean
//

append_year_dir_to_output_dir = FALSE;

///////////// write_individual_sweeps /////////////////
//
// Option to write out individual sweeps if appropriate.
// If true, the volume is split into individual sweeps for writing. 
//   Applies to CfRadial format. This is always true for DORADE format 
//   files.
// Type: boolean
//

write_individual_sweeps = FALSE;

///////////// write_latest_data_info //////////////////
//
// Option to write out _latest_data_info files.
// If true, the _latest_data_info files will be written after the 
//   converted file is written.
// Type: boolean
//

write_latest_data_info = TRUE;

//======================================================================
//
// OPTION TO OVERRIDE MISSING VALUES.
//
// Missing values are applicable to both metadata and field data. The 
//   default values should be satisfactory for most purposes. However, you 
//   can choose to override these if you are careful with the selected 
//   values.

// The default values for metadata are:
// 	missingMetaDouble = -9999.0
// 	missingMetaFloat = -9999.0
// 	missingMetaInt = -9999
// 	missingMetaChar = -128

// The default values for field data are:
// 	missingFl64 = -9.0e33
// 	missingFl32 = -9.0e33
// 	missingSi32 = -2147483647
// 	missingSi16 = -32768
// 	missingSi08 = -128.
//
//======================================================================
 
///////////// override_missing_metadata_values ////////
//
// Option to override the missing values for meta-data.
// See following parameter options.
// Type: boolean
//

override_missing_metadata_values = FALSE;

///////////// missing_metadata_double /////////////////
//
// Missing value for metadata of type double.
// Only applies if override_missing_metadata_values is TRUE.
// Type: double
//

missing_metadata_double = -9999;

///////////// missing_metadata_float //////////////////
//
// Missing value for metadata of type float.
// Only applies if override_missing_metadata_values is TRUE.
// Type: float
//

missing_metadata_float = -9999;

///////////// missing_metadata_int ////////////////////
//
// Missing value for metadata of type int.
// Only applies if override_missing_metadata_values is TRUE.
// Type: int
//

missing_metadata_int = -9999;

///////////// missing_metadata_char ///////////////////
//
// Missing value for metadata of type char.
// Only applies if override_missing_metadata_values is TRUE.
// Type: int
//

missing_metadata_char = -128;

///////////// override_missing_field_values ///////////
//
// Option to override the missing values for field data.
// See following parameter options.
// Type: boolean
//

override_missing_field_values = FALSE;

///////////// missing_field_fl64 //////////////////////
//
// Missing value for field data of type 64-bit float.
// Only applies if override_missing_field_values is TRUE.
// Type: double
//

missing_field_fl64 = -9999;

///////////// missing_field_fl32 //////////////////////
//
// Missing value for field data of type 32-bit float.
// Only applies if override_missing_field_values is TRUE.
// Type: double
//

missing_field_fl32 = -9999;

///////////// missing_field_si32 //////////////////////
//
// Missing value for field data of type 32-bit integer.
// Only applies if override_missing_field_values is TRUE.
// Type: int
//

missing_field_si32 = -999999;

///////////// missing_field_si16 //////////////////////
//
// Missing value for field data of type 16-bit integer.
// Only applies if override_missing_field_values is TRUE.
// Type: int
//

missing_field_si16 = -232768;

///////////// missing_field_si08 //////////////////////
//
// Missing value for field data of type 8-bit integer.
// Only applies if override_missing_field_values is TRUE.
// Type: int
//

missing_field_si08 = -128;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="convert-raw-nexrad-files-to-cfradial-format">
<h1>Convert raw nexrad files to CfRadial format<a class="headerlink" href="#convert-raw-nexrad-files-to-cfradial-format" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convert raw nexrad data to cfradial for 3 NEXRAD radars</span>

<span class="k">for</span> <span class="n">radar_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;KGLD&#39;</span><span class="p">,</span> <span class="s1">&#39;KUEX&#39;</span><span class="p">,</span> <span class="s1">&#39;KDDC&#39;</span><span class="p">]:</span>
    <span class="c1"># Set radar in name environment variable</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;RADAR_NAME&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">radar_name</span>
    <span class="c1"># Run RadxConvert using param file</span>
    <span class="o">!</span>/usr/local/lrose/bin/RadxConvert<span class="w"> </span>-params<span class="w"> </span>./params/RadxConvert.nexrad<span class="w"> </span>-debug<span class="w"> </span>-start<span class="w"> </span><span class="s2">&quot;2021 07 06 22 00 00&quot;</span><span class="w"> </span>-end<span class="w"> </span><span class="s2">&quot;2021 07 06 22 30 00&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======================================================================
Program &#39;RadxConvert&#39;
Run-time 2023/06/20 22:35:50.

Copyright (c) 1992 - 2023
University Corporation for Atmospheric Research (UCAR)
National Center for Atmospheric Research (NCAR)
Boulder, Colorado, USA.

Redistribution and use in source and binary forms, with
or without modification, are permitted provided that the following
conditions are met:

1) Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.

2) Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.

3) Neither the name of UCAR, NCAR nor the names of its contributors, if
any, may be used to endorse or promote products derived from this
software without specific prior written permission.

4) If the software is modified to produce derivative works, such modified
software should be clearly marked, so as not to confuse it with the
version available from UCAR.

======================================================================
INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_220003_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_220003_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300555.978051.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300555.978051.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_220448_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_220448_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300563.323475.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300563.323475.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_220935_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_220935_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300570.768699.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300570.768699.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_221420_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_221420_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300578.87754.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300578.87754.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_221906_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_221906_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300585.557543.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300585.557543.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_222350_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_222350_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300592.899634.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300592.899634.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_222834_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KGLD/20210706/KGLD20210706_222834_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300600.246894.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/tmp.758.1687300600.246894.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======================================================================
Program &#39;RadxConvert&#39;
Run-time 2023/06/20 22:36:42.

Copyright (c) 1992 - 2023
University Corporation for Atmospheric Research (UCAR)
National Center for Atmospheric Research (NCAR)
Boulder, Colorado, USA.

Redistribution and use in source and binary forms, with
or without modification, are permitted provided that the following
conditions are met:

1) Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.

2) Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.

3) Neither the name of UCAR, NCAR nor the names of its contributors, if
any, may be used to endorse or promote products derived from this
software without specific prior written permission.

4) If the software is modified to produce derivative works, such modified
software should be clearly marked, so as not to confuse it with the
version available from UCAR.

======================================================================
INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_220249_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_220249_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300608.558070.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300608.558070.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_220723_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_220723_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300615.765641.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300615.765641.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_221204_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_221204_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300623.209145.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300623.209145.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_221633_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_221633_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300630.558043.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300630.558043.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_222102_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_222102_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300637.964509.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300637.964509.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_222531_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KUEX/20210706/KUEX20210706_222531_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300645.215279.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/tmp.759.1687300645.215279.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======================================================================
Program &#39;RadxConvert&#39;
Run-time 2023/06/20 22:37:27.

Copyright (c) 1992 - 2023
University Corporation for Atmospheric Research (UCAR)
National Center for Atmospheric Research (NCAR)
Boulder, Colorado, USA.

Redistribution and use in source and binary forms, with
or without modification, are permitted provided that the following
conditions are met:

1) Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.

2) Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.

3) Neither the name of UCAR, NCAR nor the names of its contributors, if
any, may be used to endorse or promote products derived from this
software without specific prior written permission.

4) If the software is modified to produce derivative works, such modified
software should be clearly marked, so as not to confuse it with the
version available from UCAR.

======================================================================
INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_220000_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_220000_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300653.976540.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300653.976540.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_220430_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_220430_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300662.235350.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300662.235350.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_220921_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_220921_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220921.610_to_20210706_221350.957_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300670.286546.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300670.286546.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220921.610_to_20210706_221350.957_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220921.610_to_20210706_221350.957_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_221600_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_221600_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_221600.999_to_20210706_222043.450_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300678.499104.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300678.499104.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_221600.999_to_20210706_222043.450_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_221600.999_to_20210706_222043.450_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_222051_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_222051_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_222051.218_to_20210706_222526.565_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300686.614277.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300686.614277.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_222051.218_to_20210706_222526.565_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_222051.218_to_20210706_222526.565_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxConvert::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_222533_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING - NexradRadxFile::readFromPath
  Adaptation data probably not set, ignoring
  File: /tmp/lrose_data/nexrad_mosaic/raw/KDDC/20210706/KDDC20210706_222533_V06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_222533.934_to_20210706_223025.212_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300694.662588.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: VEL
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: WIDTH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: ZDR
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PHIDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RHOHV
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/tmp.760.1687300694.662588.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_222533.934_to_20210706_223025.212_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_222533.934_to_20210706_223025.212_KDDC_SUR.nc
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="list-the-cfradial-files-created-by-radxconvert">
<h1>List the CfRadial files created by RadxConvert<a class="headerlink" href="#list-the-cfradial-files-created-by-radxconvert" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the CfRadial files created by RadxConvert</span>
<span class="o">!</span>ls<span class="w"> </span>-R<span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span>/cfradial/moments/K*/20*
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706:
cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
cfrad.20210706_220921.610_to_20210706_221350.957_KDDC_SUR.nc
cfrad.20210706_221600.999_to_20210706_222043.450_KDDC_SUR.nc
cfrad.20210706_222051.218_to_20210706_222526.565_KDDC_SUR.nc
cfrad.20210706_222533.934_to_20210706_223025.212_KDDC_SUR.nc

/tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706:
cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc

/tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706:
cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plot-one-example-of-the-nexrad-goodland-radar-kgld-cfradial-files">
<h1>Plot one example of the NEXRAD Goodland radar (KGLD) CfRadial files<a class="headerlink" href="#plot-one-example-of-the-nexrad-goodland-radar-kgld-cfradial-files" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read CfRadial file into radar object</span>
<span class="n">filePathRadar</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nexradDataDir</span><span class="p">,</span> <span class="s2">&quot;cfradial/moments/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc&quot;</span><span class="p">)</span>
<span class="n">radar_kgld</span> <span class="o">=</span> <span class="n">pyart</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_cfradial</span><span class="p">(</span><span class="n">filePathRadar</span><span class="p">)</span>
<span class="n">radar_kgld</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;compact&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>altitude: &lt;ndarray of type: float64 and shape: (1,)&gt;
altitude_agl: &lt;ndarray of type: float64 and shape: (1,)&gt;
antenna_transition: &lt;ndarray of type: int8 and shape: (6120,)&gt;
azimuth: &lt;ndarray of type: float32 and shape: (6120,)&gt;
elevation: &lt;ndarray of type: float32 and shape: (6120,)&gt;
fields:
	DBZ: &lt;ndarray of type: float32 and shape: (6120, 912)&gt;
	VEL: &lt;ndarray of type: float32 and shape: (6120, 912)&gt;
	WIDTH: &lt;ndarray of type: float32 and shape: (6120, 912)&gt;
	ZDR: &lt;ndarray of type: float32 and shape: (6120, 912)&gt;
	PHIDP: &lt;ndarray of type: float32 and shape: (6120, 912)&gt;
	RHOHV: &lt;ndarray of type: float32 and shape: (6120, 912)&gt;
fixed_angle: &lt;ndarray of type: float32 and shape: (14,)&gt;
instrument_parameters:
	follow_mode: &lt;ndarray of type: |S1 and shape: (14, 32)&gt;
	pulse_width: &lt;ndarray of type: float32 and shape: (6120,)&gt;
	prt_mode: &lt;ndarray of type: |S1 and shape: (14, 32)&gt;
	prt: &lt;ndarray of type: float32 and shape: (6120,)&gt;
	prt_ratio: &lt;ndarray of type: float32 and shape: (6120,)&gt;
	polarization_mode: &lt;ndarray of type: |S1 and shape: (14, 32)&gt;
	nyquist_velocity: &lt;ndarray of type: float32 and shape: (6120,)&gt;
	unambiguous_range: &lt;ndarray of type: float32 and shape: (6120,)&gt;
	n_samples: &lt;ndarray of type: int32 and shape: (6120,)&gt;
	radar_antenna_gain_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	radar_antenna_gain_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	radar_beam_width_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	radar_beam_width_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	radar_rx_bandwidth: &lt;ndarray of type: float32 and shape: (1,)&gt;
	measured_transmit_power_v: &lt;ndarray of type: float32 and shape: (6120,)&gt;
	measured_transmit_power_h: &lt;ndarray of type: float32 and shape: (6120,)&gt;
latitude: &lt;ndarray of type: float64 and shape: (1,)&gt;
longitude: &lt;ndarray of type: float64 and shape: (1,)&gt;
nsweeps: 14
ngates: 912
nrays: 6120
radar_calibration:
	r_calib_time: &lt;ndarray of type: |S1 and shape: (1, 32)&gt;
	r_calib_pulse_width: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_xmit_power_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_xmit_power_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_two_way_waveguide_loss_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_two_way_waveguide_loss_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_two_way_radome_loss_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_two_way_radome_loss_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_mismatch_loss: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_k_squared_water: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_radar_constant_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_radar_constant_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_antenna_gain_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_antenna_gain_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_noise_hc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_noise_vc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_noise_hx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_noise_vx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_i0_dbm_hc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_i0_dbm_vc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_i0_dbm_hx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_i0_dbm_vx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_gain_hc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_gain_vc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_gain_hx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_gain_vx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_slope_hc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_slope_vc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_slope_hx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_receiver_slope_vx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_dynamic_range_db_hc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_dynamic_range_db_vc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_dynamic_range_db_hx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_dynamic_range_db_vx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_base_dbz_1km_hc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_base_dbz_1km_vc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_base_dbz_1km_hx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_base_dbz_1km_vx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_sun_power_hc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_sun_power_vc: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_sun_power_hx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_sun_power_vx: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_noise_source_power_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_noise_source_power_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_power_measure_loss_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_power_measure_loss_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_coupler_forward_loss_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_coupler_forward_loss_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_dbz_correction: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_zdr_correction: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_ldr_correction_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_ldr_correction_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_system_phidp: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_test_power_h: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_test_power_v: &lt;ndarray of type: float32 and shape: (1,)&gt;
	r_calib_index: &lt;ndarray of type: int32 and shape: (6120,)&gt;
range: &lt;ndarray of type: float32 and shape: (912,)&gt;
scan_rate: &lt;ndarray of type: float32 and shape: (6120,)&gt;
scan_type: other
sweep_end_ray_index: &lt;ndarray of type: int32 and shape: (14,)&gt;
sweep_mode: &lt;ndarray of type: |S1 and shape: (14, 32)&gt;
sweep_number: &lt;ndarray of type: int32 and shape: (14,)&gt;
sweep_start_ray_index: &lt;ndarray of type: int32 and shape: (14,)&gt;
target_scan_rate: &lt;ndarray of type: float32 and shape: (14,)&gt;
time: &lt;ndarray of type: float64 and shape: (6120,)&gt;
metadata:
	Conventions: CF-1.7
	Sub_conventions: CF-Radial instrument_parameters radar_parameters radar_calibration
	version: CF-Radial-1.4
	title: 
	institution: 
	references: 
	source: ARCHIVE 2 data
	history: 
	comment: 
	original_format: NEXRAD
	driver: RadxConvert(NCAR)
	created: 2023/06/20 22:35:55.975
	start_datetime: 2021-07-06T22:00:03Z
	time_coverage_start: 2021-07-06T22:00:03Z
	start_time: 2021-07-06 22:00:03.963
	end_datetime: 2021-07-06T22:04:39Z
	time_coverage_end: 2021-07-06T22:04:39Z
	end_time: 2021-07-06 22:04:39.770
	instrument_name: KGLD
	site_name: DLGK
	scan_name: Surveillance
	scan_id: 212
	platform_is_mobile: false
	n_gates_vary: false
	ray_times_increase: true
	volume_number: 79
	platform_type: fixed
	instrument_type: radar
	primary_axis: axis_z
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot KGLD fields from this CfRadial file</span>

<span class="n">displayKgld</span> <span class="o">=</span> <span class="n">pyart</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">RadarDisplay</span><span class="p">(</span><span class="n">radar_kgld</span><span class="p">)</span>
<span class="n">figKgld</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># DBZ</span>

<span class="n">axDbz</span> <span class="o">=</span> <span class="n">figKgld</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;DBZ&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">32</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">64.</span><span class="p">,</span>
                    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
                    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;DBZ&quot;</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="c1"># VEL</span>

<span class="n">axVel</span> <span class="o">=</span> <span class="n">figKgld</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;VEL&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">30.</span><span class="p">,</span>
                    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
                    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;VEL(m/s)&quot;</span><span class="p">,</span>
                    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="c1"># ZDR</span>

<span class="n">axZdr</span> <span class="o">=</span> <span class="n">figKgld</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;ZDR&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">4</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">16.</span><span class="p">,</span>
                    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
                    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;ZDR(dB)&quot;</span><span class="p">,</span>
                    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="c1"># PHIDP</span>

<span class="n">axPhidp</span> <span class="o">=</span> <span class="n">figKgld</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;PHIDP&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
                    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;PHIDP(deg)&quot;</span><span class="p">,</span>
                    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayKgld</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="c1"># set layout and display</span>

<span class="n">figKgld</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/bfedf80f86d1f188564057bf63b080ffc6541a1f6c5885a338c59b1990c08766.png" src="../../_images/bfedf80f86d1f188564057bf63b080ffc6541a1f6c5885a338c59b1990c08766.png" />
</div>
</div>
<div class="section" id="read-in-temperature-field-from-ruc-model-to-provide-temperature-profile-for-pid-and-ecco">
<h2>Read in temperature field from RUC model, to provide temperature profile for PID and Ecco<a class="headerlink" href="#read-in-temperature-field-from-ruc-model-to-provide-temperature-profile-for-pid-and-ecco" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filePathModel</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nexradDataDir</span><span class="p">,</span> <span class="s1">&#39;mdv/ruc/20210706/20210706_230000.mdv.cf.nc&#39;</span><span class="p">)</span>
<span class="n">dsModel</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">filePathModel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dsModel</span><span class="p">)</span>
<span class="n">dstemp</span> <span class="o">=</span> <span class="n">dsModel</span><span class="p">[</span><span class="s1">&#39;TMP&#39;</span><span class="p">]</span>
<span class="n">temp3D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dstemp</span><span class="p">)</span>
<span class="n">fillValueTemp</span> <span class="o">=</span> <span class="n">dstemp</span><span class="o">.</span><span class="n">_FillValue</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">temp3D</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">temp3D</span> <span class="o">=</span> <span class="n">temp3D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Compute time</span>

<span class="n">uTimeSecsModel</span> <span class="o">=</span> <span class="n">dsModel</span><span class="p">[</span><span class="s1">&#39;start_time&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">startTimeModel</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">uTimeSecsModel</span><span class="p">))</span>
<span class="n">startTimeStrModel</span> <span class="o">=</span> <span class="n">startTimeModel</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y/%m/</span><span class="si">%d</span><span class="s1">-%H:%M:%S UTC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start time model: &quot;</span><span class="p">,</span> <span class="n">startTimeStrModel</span><span class="p">)</span>

<span class="c1"># Compute Model grid limits</span>
<span class="p">(</span><span class="n">nZModel</span><span class="p">,</span> <span class="n">nYModel</span><span class="p">,</span> <span class="n">nXModel</span><span class="p">)</span> <span class="o">=</span> <span class="n">temp3D</span><span class="o">.</span><span class="n">shape</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsModel</span><span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">])</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsModel</span><span class="p">[</span><span class="s1">&#39;y0&#39;</span><span class="p">])</span>
<span class="n">ht</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsModel</span><span class="p">[</span><span class="s1">&#39;z0&#39;</span><span class="p">])</span>
<span class="n">dLonModel</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">dLatModel</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">minLonModel</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">dLonModel</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">maxLonModel</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dLonModel</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">minLatModel</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">dLatModel</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">maxLatModel</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dLatModel</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">minHtModel</span> <span class="o">=</span> <span class="n">ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">maxHtModel</span> <span class="o">=</span> <span class="n">ht</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nZModel, nYModel, nXModel&quot;</span><span class="p">,</span> <span class="n">nZModel</span><span class="p">,</span> <span class="n">nYModel</span><span class="p">,</span> <span class="n">nXModel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minLonModel, maxLonModel: &quot;</span><span class="p">,</span> <span class="n">minLonModel</span><span class="p">,</span> <span class="n">maxLonModel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minLatModel, maxLatModel: &quot;</span><span class="p">,</span> <span class="n">minLatModel</span><span class="p">,</span> <span class="n">maxLatModel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minHt, maxHt: &quot;</span><span class="p">,</span> <span class="n">minHtModel</span><span class="p">,</span> <span class="n">maxHtModel</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Model hts: &quot;</span><span class="p">,</span> <span class="n">ht</span><span class="p">)</span>
<span class="k">del</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">ht</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;netCDF4._netCDF4.Dataset&#39;&gt;
root group (NETCDF4 data model, file format HDF5):
    Conventions: CF-1.6
    history: Converted from NetCDF to MDV, 2022/08/21 03:33:17
  Ncf:comment: 

    source: Grib2
    title: RUC Rapid Refresh
    comment: 
    dimensions(sizes): time(1), bounds(2), x0(139), y0(72), z0(32), nbytes_mdv_chunk_0000(174)
    variables(dimensions): float64 time(time), float64 forecast_reference_time(time), float64 forecast_period(time), float64 start_time(time), float64 stop_time(time), float32 x0(x0), float32 y0(y0), float32 z0(z0), int32 grid_mapping_0(), int32 mdv_master_header(time), int8 mdv_chunk_0000(time, nbytes_mdv_chunk_0000), float32 TMP(time, z0, y0, x0), float32 RH(time, z0, y0, x0), float32 UGRD(time, z0, y0, x0), float32 VGRD(time, z0, y0, x0), float32 VVEL(time, z0, y0, x0), float32 HGT(time, z0, y0, x0), float32 Pressure(time, z0, y0, x0)
    groups: 
Start time model:  2021/07/06-23:00:00 UTC
nZModel, nYModel, nXModel 32 72 139
minLonModel, maxLonModel:  -110.42499923706055 -89.57499313354492
minLatModel, maxLatModel:  34.625 45.42500305175781
minHt, maxHt:  1.2202008 16.17987
Model hts:  [ 1.2202008  1.4573147  1.7001446  1.9490081  2.2042506  2.4662497
  2.7354188  3.0122116  3.2971282  3.5907218  3.893606   4.2064652
  4.530064   4.865264   5.213037   5.574489   5.950885   6.343679
  6.75456    7.185502   7.6388354  8.117341   8.624373   9.164038
  9.741439  10.363035  11.037209  11.784151  12.630965  13.60854
 14.764765  16.17987  ]
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="plot-w-e-and-n-s-vertical-sections-of-temperature-data">
<h1>Plot W-E and N-S vertical sections of temperature data<a class="headerlink" href="#plot-w-e-and-n-s-vertical-sections-of-temperature-data" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute Temp N-S vertical section</span>
<span class="n">nXHalfModel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nXModel</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">tempVertNS</span> <span class="o">=</span> <span class="n">temp3D</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">nXHalfModel</span><span class="p">:(</span><span class="n">nXHalfModel</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">tempVertNS</span> <span class="o">=</span> <span class="n">tempVertNS</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">tempVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tempVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">tempVertNS</span><span class="p">[</span><span class="n">tempVertNS</span> <span class="o">==</span> <span class="n">fillValueTemp</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tempVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">tempNSMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">temp3D</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="n">tempNSMax</span><span class="p">[</span><span class="n">tempNSMax</span> <span class="o">==</span> <span class="n">fillValueTemp</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># Compute Temp W-E vertical section</span>
<span class="n">nYHalfModel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nYModel</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">tempVertWE</span> <span class="o">=</span> <span class="n">temp3D</span><span class="p">[:,</span> <span class="n">nYHalfModel</span><span class="p">:(</span><span class="n">nYHalfModel</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="p">:]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tempVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">tempVertWE</span> <span class="o">=</span> <span class="n">tempVertWE</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">tempVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tempVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">tempVertWE</span><span class="p">[</span><span class="n">tempVertWE</span> <span class="o">==</span> <span class="n">fillValueTemp</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">tempWEMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">temp3D</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">tempWEMax</span><span class="p">[</span><span class="n">tempWEMax</span> <span class="o">==</span> <span class="n">fillValueTemp</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tempVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(32, 72)
(32, 1, 139)
(32, 139)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot model temp vertical sections at mid-points of grid</span>

<span class="n">figModelTemp</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">)</span>

<span class="c1"># Plot W-E temp</span>

<span class="n">axWETemp</span> <span class="o">=</span> <span class="n">figModelTemp</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                    <span class="n">xlim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonModel</span><span class="p">,</span> <span class="n">maxLonModel</span><span class="p">),</span>
                                    <span class="n">ylim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minHtModel</span><span class="p">,</span> <span class="n">maxHtModel</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">tempVertWE</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">,</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonModel</span><span class="p">,</span> <span class="n">maxLonModel</span><span class="p">,</span> <span class="n">minHtModel</span><span class="p">,</span> <span class="n">maxHtModel</span><span class="p">))</span>
<span class="n">axWETemp</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">axWETemp</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Longitude (deg)&#39;</span><span class="p">)</span>
<span class="n">axWETemp</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Height (km)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Temperature (C)&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Vert slice mid W-E temp: &quot;</span> <span class="o">+</span> <span class="n">startTimeStrModel</span><span class="p">)</span>

<span class="c1"># Plot N-S temp vertical section</span>

<span class="n">axNSTemp</span> <span class="o">=</span> <span class="n">figModelTemp</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> 
                                    <span class="n">xlim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLatModel</span><span class="p">,</span> <span class="n">maxLatModel</span><span class="p">),</span>
                                    <span class="n">ylim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minHtModel</span><span class="p">,</span> <span class="n">maxHtModel</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">tempVertNS</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">,</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLatModel</span><span class="p">,</span> <span class="n">maxLatModel</span><span class="p">,</span> <span class="n">minHtModel</span><span class="p">,</span> <span class="n">maxHtModel</span><span class="p">))</span>
<span class="n">axNSTemp</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mf">0.52</span><span class="p">)</span>
<span class="n">axNSTemp</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Latitude (deg)&#39;</span><span class="p">)</span>
<span class="n">axNSTemp</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Height (km)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Temperature (C)&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Vert slice mid N-S temp: &quot;</span> <span class="o">+</span> <span class="n">startTimeStrModel</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Vert slice mid N-S temp: 2021/07/06-23:00:00 UTC&#39;)
</pre></div>
</div>
<img alt="../../_images/667a567435d557699ea34899017e170ce33f7732a8ae723ae5c228fd9b51df8d.png" src="../../_images/667a567435d557699ea34899017e170ce33f7732a8ae723ae5c228fd9b51df8d.png" />
</div>
</div>
</div>
<div class="section" id="sample-ruc-temperatures-at-3-radar-locations-save-in-spdb-data-base">
<h1>Sample RUC temperatures at 3 radar locations, save in SPDB data base<a class="headerlink" href="#sample-ruc-temperatures-at-3-radar-locations-save-in-spdb-data-base" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Mdv2SoundingSpdb to sample temperature data and store in SPDB</span>
<span class="o">!</span>/usr/local/lrose/bin/Mdv2SoundingSpdb<span class="w"> </span>-debug<span class="w"> </span>-params<span class="w"> </span>params/Mdv2SoundingSpdb.ruc<span class="w"> </span>-start<span class="w"> </span><span class="s2">&quot;2021 07 06 00 00 00&quot;</span><span class="w"> </span>-end<span class="w"> </span><span class="s2">&quot;2021 07 07 00 00 00&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======================================================================
Program &#39;Mdv2SoundingSpdb&#39;
Run-time 2023/06/20 22:38:24.

Copyright (c) 1992 - 2023
University Corporation for Atmospheric Research (UCAR)
National Center for Atmospheric Research (NCAR)
Boulder, Colorado, USA.

Redistribution and use in source and binary forms, with
or without modification, are permitted provided that the following
conditions are met:

1) Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.

2) Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.

3) Neither the name of UCAR, NCAR nor the names of its contributors, if
any, may be used to endorse or promote products derived from this
software without specific prior written permission.

4) If the software is modified to produce derivative works, such modified
software should be clearly marked, so as not to confuse it with the
version available from UCAR.

======================================================================
Processing file: /tmp/lrose_data/nexrad_mosaic/mdv/ruc/20210706/20210706_230000.mdv.cf.nc
Mdvx::readVsection - reading file: /tmp/lrose_data/nexrad_mosaic/mdv/ruc/20210706/20210706_230000.mdv.cf.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUCCESS - opened file: /tmp/lrose_data/nexrad_mosaic/mdv/ruc/20210706/20210706_230000.mdv.cf.nc
SUCCESS - setting master header
Default time dimension: time
  time: 2021/07/06 23:00:00
SUCCESS - setting time coord variable
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; rejecting field: mdv_chunk_0000
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; rejecting field: mdv_chunk_0000
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: TMP
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: TMP
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: TMP
Adding data field: TMP
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: RH
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: RH
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: RH
Adding data field: RH
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: UGRD
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: UGRD
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: UGRD
Adding data field: UGRD
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: VGRD
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: VGRD
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: VGRD
Adding data field: VGRD
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: VVEL
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: VVEL
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: VVEL
Adding data field: VVEL
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: HGT
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: HGT
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: HGT
Adding data field: HGT
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: Pressure
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: Pressure
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: Pressure
Adding data field: Pressure
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::addDataFieldsTime elapsed = 1
Adding chunk: NetCDF file global attributes
Ncf2MdvTrans::addGlobalAttrXmlChunk()
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Wrote spdb data, URL: /tmp/lrose_data/nexrad_mosaic/spdb/sounding/ruc
       Station name : KGLD
       Sounding time: 2021/07/06 23:00:00
Mdvx::readVsection - reading file: /tmp/lrose_data/nexrad_mosaic/mdv/ruc/20210706/20210706_230000.mdv.cf.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUCCESS - opened file: /tmp/lrose_data/nexrad_mosaic/mdv/ruc/20210706/20210706_230000.mdv.cf.nc
SUCCESS - setting master header
Default time dimension: time
  time: 2021/07/06 23:00:00
SUCCESS - setting time coord variable
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; rejecting field: mdv_chunk_0000
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; rejecting field: mdv_chunk_0000
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: TMP
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: TMP
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: TMP
Adding data field: TMP
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: RH
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: RH
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: RH
Adding data field: RH
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: UGRD
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: UGRD
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: UGRD
Adding data field: UGRD
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: VGRD
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: VGRD
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: VGRD
Adding data field: VGRD
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: VVEL
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: VVEL
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: VVEL
Adding data field: VVEL
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: HGT
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: HGT
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: HGT
Adding data field: HGT
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: Pressure
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: Pressure
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: Pressure
Adding data field: Pressure
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::addDataFieldsTime elapsed = 0
Adding chunk: NetCDF file global attributes
Ncf2MdvTrans::addGlobalAttrXmlChunk()
Wrote spdb data, URL: /tmp/lrose_data/nexrad_mosaic/spdb/sounding/ruc
       Station name : KDDC
       Sounding time: 2021/07/06 23:00:00
Mdvx::readVsection - reading file: /tmp/lrose_data/nexrad_mosaic/mdv/ruc/20210706/20210706_230000.mdv.cf.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUCCESS - opened file: /tmp/lrose_data/nexrad_mosaic/mdv/ruc/20210706/20210706_230000.mdv.cf.nc
SUCCESS - setting master header
Default time dimension: time
  time: 2021/07/06 23:00:00
SUCCESS - setting time coord variable
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; rejecting field: mdv_chunk_0000
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; rejecting field: mdv_chunk_0000
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: TMP
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: TMP
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: TMP
Adding data field: TMP
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: RH
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: RH
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: RH
Adding data field: RH
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: UGRD
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: UGRD
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: UGRD
Adding data field: UGRD
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: VGRD
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: VGRD
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: VGRD
Adding data field: VGRD
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: VVEL
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: VVEL
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: VVEL
Adding data field: VVEL
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: HGT
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: HGT
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: HGT
Adding data field: HGT
             time: 2021/07/06 23:00:00
Ncf2MdvTrans::_shouldAddField
  --&gt;&gt; adding field: Pressure
Ncf2MdvTrans::_shouldAddField
  Checking variable for field data: Pressure
SUCCESS - FIELD has X coordinate
SUCCESS - FIELD has Y coordinate
NOTE - FIELD has Z coordinate
Ncf2MdvTrans::_addOneField
  --&gt;&gt; adding field: Pressure
Adding data field: Pressure
             time: 2021/07/06 23:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ncf2MdvTrans::addDataFieldsTime elapsed = 0
Adding chunk: NetCDF file global attributes
Ncf2MdvTrans::addGlobalAttrXmlChunk()
Wrote spdb data, URL: /tmp/lrose_data/nexrad_mosaic/spdb/sounding/ruc
       Station name : KUEX
       Sounding time: 2021/07/06 23:00:00
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="list-sounding-data-base">
<h1>List sounding data base<a class="headerlink" href="#list-sounding-data-base" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List SPDB files</span>
<span class="o">!</span>ls<span class="w"> </span>-alR<span class="w"> </span>/tmp/lrose_data/nexrad_mosaic/spdb/sounding/ruc/20210706*
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-rw-r--r-- 1 root root 4704 Jun 20 22:38 /tmp/lrose_data/nexrad_mosaic/spdb/sounding/ruc/20210706.data
-rw-r--r-- 1 root root 6360 Jun 20 22:38 /tmp/lrose_data/nexrad_mosaic/spdb/sounding/ruc/20210706.indx
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="run-radxrate-on-the-cfradial-files">
<h1>Run RadxRate on the CfRadial files<a class="headerlink" href="#run-radxrate-on-the-cfradial-files" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<p>RadxRate will compute:</p>
<ul class="simple">
<li><p>KDP - specific differential phase</p></li>
<li><p>KDP_SC - KDP conditioned using Z and ZDR self-consistency</p></li>
<li><p>PID - NCAR Particle ID (type)</p></li>
<li><p>RATE_ZH - precip rate from standard ZR relationship</p></li>
<li><p>RATE_HYBRID - precip rate from NCAR hybrid estimator</p></li>
</ul>
<p>RadxRate has a main parameter file, which then specifies a parameter file computing each of KDP, PID and precip rate.</p>
<p>The PID step requires an additional parameter file specifying the fuzzy logic thresholds.</p>
<p>The parameter files used here are:</p>
<ul class="simple">
<li><p>kdp_params.nexrad</p></li>
<li><p>pid_params.nexrad</p></li>
<li><p>pid_thresholds.nexrad</p></li>
<li><p>rate_params.nexrad</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run RadxRate for 3 NEXRAD radars</span>

<span class="k">for</span> <span class="n">radar_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;KGLD&#39;</span><span class="p">,</span> <span class="s1">&#39;KUEX&#39;</span><span class="p">,</span> <span class="s1">&#39;KDDC&#39;</span><span class="p">]:</span>
    <span class="c1"># Set radar in name environment variable</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;RADAR_NAME&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">radar_name</span>
    <span class="c1"># Run RadxRate using param file</span>
    <span class="o">!</span>/usr/local/lrose/bin/RadxRate<span class="w"> </span>-params<span class="w"> </span>./params/RadxRate.nexrad<span class="w"> </span>-debug<span class="w"> </span>-start<span class="w"> </span><span class="s2">&quot;2021 07 06 22 00 00&quot;</span><span class="w"> </span>-end<span class="w"> </span><span class="s2">&quot;2021 07 06 22 30 00&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RadxRate::_runArchive
  Input dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD
  Start time: 2021/07/06 22:00:00
  End time: 2021/07/06 22:30:00
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:00:03
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300726.115496.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300726.115496.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:04:48
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300745.37860.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300745.37860.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220448.793_to_20210706_220926.383_KGLD_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:09:35
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300763.286914.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300763.286914.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_220935.631_to_20210706_221411.627_KGLD_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:14:20
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300781.424297.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300781.424297.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_221420.555_to_20210706_221857.324_KGLD_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:19:06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300799.818746.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300799.818746.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_221906.199_to_20210706_222341.850_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:23:50
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300818.12618.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300818.12618.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_222350.154_to_20210706_222826.584_KGLD_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KGLD/20210706/cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:28:34
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300836.6389.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/tmp.767.1687300836.6389.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KGLD/20210706/cfrad.20210706_222834.963_to_20210706_223310.845_KGLD_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RadxRate::_runArchive
  Input dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX
  Start time: 2021/07/06 22:00:00
  End time: 2021/07/06 22:30:00
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:02:49
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300856.719959.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300856.719959.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_220249.032_to_20210706_220715.866_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:07:23
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300875.81079.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300875.81079.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_220723.969_to_20210706_221157.362_KUEX_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:12:04
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300893.241282.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300893.241282.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_221204.520_to_20210706_221625.502_KUEX_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:16:33
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300912.62426.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300912.62426.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_221633.850_to_20210706_222054.868_KUEX_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:21:02
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300930.450498.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300930.450498.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_222102.216_to_20210706_222523.504_KUEX_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KUEX/20210706/cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:25:31
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300948.529055.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/tmp.774.1687300948.529055.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KUEX/20210706/cfrad.20210706_222531.244_to_20210706_222952.818_KUEX_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RadxRate::_runArchive
  Input dir: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC
  Start time: 2021/07/06 22:00:00
  End time: 2021/07/06 22:30:00
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:00:00
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/tmp.781.1687300968.593005.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/tmp.781.1687300968.593005.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/cfrad.20210706_220000.765_to_20210706_220422.888_KDDC_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:04:30
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/tmp.781.1687300987.266696.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: DBZ
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DEBUG - NcfRadxFile::writeToPath
  Renamed tmp path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/tmp.781.1687300987.266696.tmp
     to final path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
INFO: RadxFile::writeToDir
  Wrote CfRadial file to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/cfrad.20210706_220430.757_to_20210706_220912.758_KDDC_SUR.nc
INFO - RadxRate::Run
  Input path: /tmp/lrose_data/nexrad_mosaic/cfradial/moments/KDDC/20210706/cfrad.20210706_220921.610_to_20210706_221350.957_KDDC_SUR.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread #: 0
  Loading temp profile for time: 2021/07/06 22:09:21
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: RadxFile::writeToDir
  Writing CfRadial file to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC
DEBUG - NcfRadxFile::writeToDir
  Writing to dir: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC
DEBUG - NcfRadxFile::writeToPath
  Writing to path: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/cfrad.20210706_220921.610_to_20210706_221350.957_KDDC_SUR.nc
  Tmp path is: /tmp/lrose_data/nexrad_mosaic/cfradial/rate/KDDC/20210706/tmp.781.1687301005.496804.tmp
  Writing fields and compressing ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_ZH
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: RATE_HYBRID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: PID
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  ... writing field: KDP
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>^C
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="list-files-created-by-radxrate">
<h1>List files created by RadxRate<a class="headerlink" href="#list-files-created-by-radxrate" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the CfRadial files created by RadxRate</span>
<span class="o">!</span>ls<span class="w"> </span>-R<span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span>/cfradial/rate/K*/2*
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plot-pid-and-rate-results-for-nexrad-goodland-radar-kgld">
<h1>Plot PID and rate results for NEXRAD Goodland radar (KGLD)<a class="headerlink" href="#plot-pid-and-rate-results-for-nexrad-goodland-radar-kgld" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read CfRadial file into radar object</span>
<span class="n">filePathRate</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nexradDataDir</span><span class="p">,</span> <span class="s2">&quot;cfradial/rate/KGLD/20210706/cfrad.20210706_220003.963_to_20210706_220439.770_KGLD_SUR.nc&quot;</span><span class="p">)</span>
<span class="n">rate_kgld</span> <span class="o">=</span> <span class="n">pyart</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_cfradial</span><span class="p">(</span><span class="n">filePathRate</span><span class="p">)</span>
<span class="n">rate_kgld</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;compact&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot results of RadxRate</span>

<span class="n">displayRate</span> <span class="o">=</span> <span class="n">pyart</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">RadarDisplay</span><span class="p">(</span><span class="n">rate_kgld</span><span class="p">)</span>
<span class="n">figRate</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># DBZ (input)</span>

<span class="n">axDbz</span> <span class="o">=</span> <span class="n">figRate</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;DBZ&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">32</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">64.</span><span class="p">,</span>
                    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
                    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;DBZ&quot;</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="c1"># KDP (computed)</span>

<span class="n">axKdp</span> <span class="o">=</span> <span class="n">figRate</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;KDP&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span>
    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;KDP (deg/km)&quot;</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="c1"># RATE_HYBRID (computed)</span>

<span class="n">axHybrid</span> <span class="o">=</span> <span class="n">figRate</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;RATE_HYBRID&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">50.</span><span class="p">,</span>
    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;RATE_HYBRID(mm/hr)&quot;</span><span class="p">,</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="c1"># NCAR PID (computed)</span>

<span class="n">axPID</span> <span class="o">=</span> <span class="n">figRate</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;PID&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">axislabels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x(km)&quot;</span><span class="p">,</span> <span class="s2">&quot;y(km)&quot;</span><span class="p">),</span>
    <span class="n">colorbar_label</span><span class="o">=</span><span class="s2">&quot;PID&quot;</span><span class="p">,</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_range_rings</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="n">displayRate</span><span class="o">.</span><span class="n">plot_cross_hair</span><span class="p">(</span><span class="mf">200.</span><span class="p">)</span>

<span class="n">pid_cbar</span> <span class="o">=</span> <span class="n">displayRate</span><span class="o">.</span><span class="n">cbs</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">pid_cbar</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">])</span>
<span class="n">pid_cbar</span><span class="o">.</span><span class="n">set_ticklabels</span><span class="p">([</span><span class="s1">&#39;cld-drops&#39;</span><span class="p">,</span> <span class="s1">&#39;drizzle&#39;</span><span class="p">,</span> <span class="s1">&#39;lt-rain&#39;</span><span class="p">,</span> <span class="s1">&#39;mod-rain&#39;</span><span class="p">,</span> <span class="s1">&#39;hvy-rain&#39;</span><span class="p">,</span> <span class="s1">&#39;hail&#39;</span><span class="p">,</span> <span class="s1">&#39;rain/hail&#39;</span><span class="p">,</span> <span class="s1">&#39;sm-hail&#39;</span><span class="p">,</span> <span class="s1">&#39;gr/rain&#39;</span><span class="p">,</span> <span class="s1">&#39;dry-snow&#39;</span><span class="p">,</span> <span class="s1">&#39;wet-snow&#39;</span><span class="p">,</span> <span class="s1">&#39;ice&#39;</span><span class="p">,</span> <span class="s1">&#39;irreg-ice&#39;</span><span class="p">,</span> <span class="s1">&#39;slw&#39;</span><span class="p">,</span> <span class="s1">&#39;insects&#39;</span><span class="p">,</span> <span class="s1">&#39;2nd-trip&#39;</span><span class="p">,</span> <span class="s1">&#39;clutter&#39;</span><span class="p">])</span>

<span class="n">figRate</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="convert-cfradial-polar-files-to-cartesian">
<h1>Convert CfRadial polar files to Cartesian<a class="headerlink" href="#convert-cfradial-polar-files-to-cartesian" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Radx2Grid for 3 NEXRAD radars</span>

<span class="k">for</span> <span class="n">radar_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;KGLD&#39;</span><span class="p">,</span> <span class="s1">&#39;KUEX&#39;</span><span class="p">,</span> <span class="s1">&#39;KDDC&#39;</span><span class="p">]:</span>
    <span class="c1"># Set radar in name environment variable</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;RADAR_NAME&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">radar_name</span>
    <span class="c1"># Run RadxRate using param file</span>
    <span class="o">!</span>/usr/local/lrose/bin/Radx2Grid<span class="w"> </span>-params<span class="w"> </span>./params/Radx2Grid.rate<span class="w"> </span>-debug<span class="w"> </span>-start<span class="w"> </span><span class="s2">&quot;2021 07 06 22 00 00&quot;</span><span class="w"> </span>-end<span class="w"> </span><span class="s2">&quot;2021 07 06 22 30 00&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="list-files-created-by-radx2grid">
<h1>List files created by Radx2Grid<a class="headerlink" href="#list-files-created-by-radx2grid" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the Cartesian files created by Radx2Grid</span>
<span class="o">!</span>ls<span class="w"> </span>-R<span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span>/mdv/radarCart/K*/2*
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="merge-cartesian-files-into-mosaic-using-mdvmerge2">
<h1>Merge Cartesian files into mosaic, using MdvMerge2<a class="headerlink" href="#merge-cartesian-files-into-mosaic-using-mdvmerge2" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run MdvMerge2 to merrge the Cart data from 3 radars into a mosaic</span>
<span class="o">!</span>/usr/local/lrose/bin/MdvMerge2<span class="w"> </span>-params<span class="w"> </span>params/MdvMerge2.mosaic<span class="w"> </span>-start<span class="w"> </span><span class="s2">&quot;2021 07 06 22 00 00&quot;</span><span class="w"> </span>-end<span class="w"> </span><span class="s2">&quot;2021 07 06 22 30 00&quot;</span><span class="w"> </span>-debug
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the mosaic files created by MdvMerge2</span>
<span class="o">!</span>ls<span class="w"> </span>-R<span class="w"> </span><span class="si">${</span><span class="nv">NEXRAD_DATA_DIR</span><span class="si">}</span>/mdv/radarCart/mosaic/2*
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="read-in-file-from-radar-mosaic">
<h1>Read in file from radar mosaic<a class="headerlink" href="#read-in-file-from-radar-mosaic" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read in example radar mosaic for a single time</span>

<span class="n">filePathMosaic</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nexradDataDir</span><span class="p">,</span> <span class="s1">&#39;mdv/radarCart/mosaic/20210706/20210706_221500.mdv.cf.nc&#39;</span><span class="p">)</span>
<span class="n">dsMosaic</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">filePathMosaic</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Radar mosaic file path: &quot;</span><span class="p">,</span> <span class="n">filePathMosaic</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Radar mosaic data set: &quot;</span><span class="p">,</span> <span class="n">dsMosaic</span><span class="p">)</span>

<span class="c1"># Compute time</span>

<span class="n">uTimeSecs</span> <span class="o">=</span> <span class="n">dsMosaic</span><span class="p">[</span><span class="s1">&#39;start_time&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">startTime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">uTimeSecs</span><span class="p">))</span>
<span class="n">startTimeStr</span> <span class="o">=</span> <span class="n">startTime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y/%m/</span><span class="si">%d</span><span class="s1">-%H:%M:%S UTC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start time: &quot;</span><span class="p">,</span> <span class="n">startTimeStr</span><span class="p">)</span>

<span class="c1"># print(dsMosaic[&#39;DBZ&#39;])</span>
<span class="c1">#for dim in dsMosaic.dimensions.values():</span>
<span class="c1">#    print(dim)</span>
<span class="c1">#for var in dsMosaic.variables.values():</span>
<span class="c1">#    print(&quot;========================================&quot;)</span>
<span class="c1">#    print(var)</span>
<span class="c1">#    print(&quot;========================================&quot;)</span>

<span class="c1"># create 3D dbz array with nans for missing vals</span>

<span class="n">dsDbz</span> <span class="o">=</span> <span class="n">dsMosaic</span><span class="p">[</span><span class="s1">&#39;DBZ&#39;</span><span class="p">]</span>
<span class="n">dbz3D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsDbz</span><span class="p">)</span>
<span class="n">fillValue</span> <span class="o">=</span> <span class="n">dsDbz</span><span class="o">.</span><span class="n">_FillValue</span>
<span class="c1"># print(&quot;fillValue: &quot;, fillValue)</span>

<span class="c1"># if 4D (i.e. time is dim0) change to 3D</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dbz3D</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">dbz3D</span> <span class="o">=</span> <span class="n">dbz3D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Compute mosaic grid limits</span>

<span class="p">(</span><span class="n">nZMosaic</span><span class="p">,</span> <span class="n">nYMosaic</span><span class="p">,</span> <span class="n">nXMosaic</span><span class="p">)</span> <span class="o">=</span> <span class="n">dbz3D</span><span class="o">.</span><span class="n">shape</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsMosaic</span><span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">])</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsMosaic</span><span class="p">[</span><span class="s1">&#39;y0&#39;</span><span class="p">])</span>
<span class="n">ht</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsMosaic</span><span class="p">[</span><span class="s1">&#39;z0&#39;</span><span class="p">])</span>
<span class="n">dLonMosaic</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">dLatMosaic</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">minLonMosaic</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">dLonMosaic</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">maxLonMosaic</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dLonMosaic</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">minLatMosaic</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">dLatMosaic</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">maxLatMosaic</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dLatMosaic</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">minHtMosaic</span> <span class="o">=</span> <span class="n">ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">maxHtMosaic</span> <span class="o">=</span> <span class="n">ht</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minLonMosaic, maxLonMosaic: &quot;</span><span class="p">,</span> <span class="n">minLonMosaic</span><span class="p">,</span> <span class="n">maxLonMosaic</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minLatMosaic, maxLatMosaic: &quot;</span><span class="p">,</span> <span class="n">minLatMosaic</span><span class="p">,</span> <span class="n">maxLatMosaic</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minHt, maxHt: &quot;</span><span class="p">,</span> <span class="n">minHtMosaic</span><span class="p">,</span> <span class="n">maxHtMosaic</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hts: &quot;</span><span class="p">,</span> <span class="n">ht</span><span class="p">)</span>
<span class="k">del</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">ht</span>

<span class="c1"># Compute column-max reflectivity</span>

<span class="n">dbzPlaneMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">dbz3D</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">dbzPlaneMax</span><span class="p">[</span><span class="n">dbzPlaneMax</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Shape of composite DBZ grid: &quot;</span><span class="p">,</span> <span class="n">dbzPlaneMax</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="c1">#print(dbzPlaneMax[dbzPlaneMax != np.nan])</span>
<span class="c1">#print(np.min(dbzPlaneMax[dbzPlaneMax != np.nan]))</span>
<span class="c1">#print(np.max(dbzPlaneMax))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-map-for-cartesian-grid-plotting">
<h2>Create map for Cartesian grid plotting<a class="headerlink" href="#create-map-for-cartesian-grid-plotting" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create map for plotting lat/lon grids</span>
<span class="k">def</span> <span class="nf">new_map</span><span class="p">(</span><span class="n">fig</span><span class="p">):</span>
    
    <span class="c1">## Create projection centered on data</span>
    <span class="n">proj</span> <span class="o">=</span> <span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">()</span>

    <span class="c1">## New axes with the specified projection:</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="n">proj</span><span class="p">)</span>
    
    <span class="c1">## Set extent the same as radar mosaic</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_extent</span><span class="p">([</span><span class="n">minLonMosaic</span><span class="p">,</span> <span class="n">maxLonMosaic</span><span class="p">,</span> <span class="n">minLatMosaic</span><span class="p">,</span> <span class="n">maxLatMosaic</span><span class="p">])</span>

    <span class="c1">## Add grid lines &amp; labels:</span>
    <span class="n">gl</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">gridlines</span><span class="p">(</span> <span class="n">crs</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">()</span>
                     <span class="p">,</span> <span class="n">draw_labels</span><span class="o">=</span><span class="kc">True</span>
                     <span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span>
                     <span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;lightgray&#39;</span>
                     <span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span>
                     <span class="p">)</span> 
    <span class="n">gl</span><span class="o">.</span><span class="n">top_labels</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">left_labels</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">right_labels</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">xlines</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">ylines</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">xformatter</span> <span class="o">=</span> <span class="n">LONGITUDE_FORMATTER</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">yformatter</span> <span class="o">=</span> <span class="n">LATITUDE_FORMATTER</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">xlabel_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">}</span>
    <span class="n">gl</span><span class="o">.</span><span class="n">ylabel_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">}</span>
    
    <span class="k">return</span> <span class="n">ax</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plot-column-max-reflectivity-in-plan-view-and-a-n-s-and-w-e-cross-section-of-reflectivity">
<h2>Plot column-max reflectivity in plan view, and a N/S and W/E cross section of reflectivity<a class="headerlink" href="#plot-column-max-reflectivity-in-plan-view-and-a-n-s-and-w-e-cross-section-of-reflectivity" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot column-max reflectivity</span>
<span class="n">figDbzComp</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">axDbzComp</span> <span class="o">=</span> <span class="n">new_map</span><span class="p">(</span><span class="n">figDbzComp</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dbzPlaneMax</span><span class="p">,</span>
            <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;pyart_Carbone42&#39;</span><span class="p">,</span>
            <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
            <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
            <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonMosaic</span><span class="p">,</span> <span class="n">maxLonMosaic</span><span class="p">,</span> <span class="n">minLatMosaic</span><span class="p">,</span> <span class="n">maxLatMosaic</span><span class="p">))</span>
<span class="n">axDbzComp</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">BORDERS</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">axDbzComp</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">STATES</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">)</span>
<span class="c1">#axDbzComp.coastlines(&#39;10m&#39;, &#39;darkgray&#39;, linewidth=1, zorder=0)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;DBZ&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Radar mosaic column-max DBZ: &quot;</span> <span class="o">+</span> <span class="n">startTimeStr</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute W-E DBZ vertical section</span>
<span class="n">nYHalfMosaic</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nYMosaic</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">dbzVertWE</span> <span class="o">=</span> <span class="n">dbz3D</span><span class="p">[:,</span> <span class="n">nYHalfMosaic</span><span class="p">:(</span><span class="n">nYHalfMosaic</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="p">:]</span>
<span class="n">dbzVertWE</span> <span class="o">=</span> <span class="n">dbzVertWE</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">dbzVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dbzVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dbzVertWE.shape: &#39;</span><span class="p">,</span> <span class="n">dbzVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">dbzVertWE</span><span class="p">[</span><span class="n">dbzVertWE</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">dbzVertWEMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">dbz3D</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dbzVertWEMax</span><span class="p">[</span><span class="n">dbzVertWEMax</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dbzVertWEMax.shape: &#39;</span><span class="p">,</span> <span class="n">dbzVertWEMax</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Compute DBZ N-S vertical section</span>
<span class="n">nXHalfMosaic</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nXMosaic</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">dbzVertNS</span> <span class="o">=</span> <span class="n">dbz3D</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">nXHalfMosaic</span><span class="p">:(</span><span class="n">nXHalfMosaic</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">dbzVertNS</span> <span class="o">=</span> <span class="n">dbzVertNS</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">dbzVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dbzVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">dbzVertNS</span><span class="p">[</span><span class="n">dbzVertNS</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dbzVertNS.shape: &#39;</span><span class="p">,</span> <span class="n">dbzVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">dbzVertNSMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">dbz3D</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">dbzVertNSMax</span><span class="p">[</span><span class="n">dbzVertNSMax</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dbzVertNSMax.shape: &#39;</span><span class="p">,</span> <span class="n">dbzVertNSMax</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot mid W-E DBZ vertical section</span>

<span class="n">fig2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">)</span>
<span class="n">ax2a</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">,</span> <span class="n">xlim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonMosaic</span><span class="p">,</span> <span class="n">maxLonMosaic</span><span class="p">),</span> <span class="n">ylim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minHtMosaic</span><span class="p">,</span> <span class="n">maxHtMosaic</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dbzVertWE</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;pyart_Carbone42&#39;</span><span class="p">,</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonMosaic</span><span class="p">,</span> <span class="n">maxLonMosaic</span><span class="p">,</span> <span class="n">minHtMosaic</span><span class="p">,</span> <span class="n">maxHtMosaic</span><span class="p">))</span>
<span class="n">ax2a</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">ax2a</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Longitude (deg)&#39;</span><span class="p">)</span>
<span class="n">ax2a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Height (km)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Vert slice mid W-E DBZ: &quot;</span> <span class="o">+</span> <span class="n">startTimeStr</span><span class="p">)</span>

<span class="c1"># Plot mid N-S DBZ vertical section</span>

<span class="n">ax2b</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">,</span> <span class="n">xlim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLatMosaic</span><span class="p">,</span> <span class="n">maxLatMosaic</span><span class="p">),</span> <span class="n">ylim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minHtMosaic</span><span class="p">,</span> <span class="n">maxHtMosaic</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dbzVertNS</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;pyart_Carbone42&#39;</span><span class="p">,</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLatMosaic</span><span class="p">,</span> <span class="n">maxLatMosaic</span><span class="p">,</span> <span class="n">minHtMosaic</span><span class="p">,</span> <span class="n">maxHtMosaic</span><span class="p">))</span>
<span class="n">ax2b</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">ax2b</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Latitude (deg)&#39;</span><span class="p">)</span>
<span class="n">ax2b</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Height (km)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Vert slice mid NS DBZ: &quot;</span> <span class="o">+</span> <span class="n">startTimeStr</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;DBZ&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="view-the-ecco-parameter-file">
<h2>View the Ecco parameter file<a class="headerlink" href="#view-the-ecco-parameter-file" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>The paths of the input files, and the output results file, are specified in the parameters.</p>
<p>Also included are all of the parameters used to control the algorithm.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the param file</span>
<span class="o">!</span>cat<span class="w"> </span>./params/Ecco.nexrad_mosaic
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="run-ecco">
<h2>Run Ecco<a class="headerlink" href="#run-ecco" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>Ecco computes the convective/stratiform partition using radar reflectivity in Cartesian coordinates.</p>
<p>We run Ecco by specifying the parameter file, and the start and end times for the analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Ecco using param file</span>
<span class="o">!</span>/usr/local/lrose/bin/Ecco<span class="w"> </span>-params<span class="w"> </span>./params/Ecco.nexrad_mosaic<span class="w"> </span>-debug<span class="w"> </span>-start<span class="w"> </span><span class="s2">&quot;2021 07 06 22 00 00&quot;</span><span class="w"> </span>-end<span class="w"> </span><span class="s2">&quot;2021 07 06 22 30 00&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="read-in-ecco-results-for-a-selected-time">
<h2>Read in Ecco results for a selected time<a class="headerlink" href="#read-in-ecco-results-for-a-selected-time" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read in ecco results for a selected time</span>
<span class="n">filePathEcco</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nexradDataDir</span><span class="p">,</span> <span class="s1">&#39;mdv/ecco/mosaic/20210706/20210706_221500.mdv.cf.nc&#39;</span><span class="p">)</span>
<span class="n">dsEcco</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">filePathEcco</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dsEcco</span><span class="p">)</span>

<span class="c1"># create 3D ecco type array with nans for missing vals</span>

<span class="n">eccoField</span> <span class="o">=</span> <span class="n">dsEcco</span><span class="p">[</span><span class="s1">&#39;EchoType3D&#39;</span><span class="p">]</span>
<span class="n">ecco3D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">eccoField</span><span class="p">)</span>
<span class="n">fillValue</span> <span class="o">=</span> <span class="n">eccoField</span><span class="o">.</span><span class="n">_FillValue</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fillValue: &quot;</span><span class="p">,</span> <span class="n">fillValue</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ecco3D.shape: &quot;</span><span class="p">,</span> <span class="n">ecco3D</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># if 4D (i.e. time is dim0) change to 3D</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ecco3D</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">ecco3D</span> <span class="o">=</span> <span class="n">ecco3D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Compute Ecco grid limits</span>
<span class="p">(</span><span class="n">nZEcco</span><span class="p">,</span> <span class="n">nYEcco</span><span class="p">,</span> <span class="n">nXEcco</span><span class="p">)</span> <span class="o">=</span> <span class="n">ecco3D</span><span class="o">.</span><span class="n">shape</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsEcco</span><span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">])</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsEcco</span><span class="p">[</span><span class="s1">&#39;y0&#39;</span><span class="p">])</span>
<span class="n">ht</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dsEcco</span><span class="p">[</span><span class="s1">&#39;z2&#39;</span><span class="p">])</span>
<span class="n">dLonEcco</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">dLatEcco</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">minLonEcco</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">dLonEcco</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">maxLonEcco</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dLonEcco</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">minLatEcco</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">dLatEcco</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">maxLatEcco</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dLatEcco</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">minHtEcco</span> <span class="o">=</span> <span class="n">ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">maxHtEcco</span> <span class="o">=</span> <span class="n">ht</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minLonEcco, maxLonEcco: &quot;</span><span class="p">,</span> <span class="n">minLonEcco</span><span class="p">,</span> <span class="n">maxLonEcco</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minLatEcco, maxLatEcco: &quot;</span><span class="p">,</span> <span class="n">minLatEcco</span><span class="p">,</span> <span class="n">maxLatEcco</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;minHt, maxHt: &quot;</span><span class="p">,</span> <span class="n">minHtEcco</span><span class="p">,</span> <span class="n">maxHtEcco</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ht: &quot;</span><span class="p">,</span> <span class="n">ht</span><span class="p">)</span>
<span class="k">del</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">ht</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compute-the-column-max-of-the-ecco-3-d-results">
<h2>Compute the column-max of the Ecco 3-D results<a class="headerlink" href="#compute-the-column-max-of-the-ecco-3-d-results" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute column-max echo type</span>
<span class="n">eccoPlaneMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">ecco3D</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">eccoPlaneMax</span><span class="p">[</span><span class="n">eccoPlaneMax</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">eccoPlaneMax</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">eccoPlaneMax</span><span class="p">[</span><span class="n">eccoPlaneMax</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">eccoPlaneMax</span><span class="p">[</span><span class="n">eccoPlaneMax</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">eccoPlaneMax</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plot-the-column-max-of-the-ecco-results">
<h2>Plot the column max of the Ecco results<a class="headerlink" href="#plot-the-column-max-of-the-ecco-results" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot column-max ecco</span>
<span class="n">figEcco</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">axEcco</span> <span class="o">=</span> <span class="n">new_map</span><span class="p">(</span><span class="n">figEcco</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">eccoPlaneMax</span><span class="p">,</span>
            <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;rainbow&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
            <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
            <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
            <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonEcco</span><span class="p">,</span> <span class="n">maxLonEcco</span><span class="p">,</span> <span class="n">minLatEcco</span><span class="p">,</span> <span class="n">maxLatEcco</span><span class="p">))</span>
<span class="n">axEcco</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">BORDERS</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">axEcco</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">STATES</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">)</span>
<span class="n">cbarEcco</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Echo type&quot;</span><span class="p">,</span> <span class="n">cax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">cbarEcco</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([</span><span class="mi">14</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">38</span><span class="p">],</span>
                   <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;StratLowLow&#39;</span><span class="p">,</span> <span class="s1">&#39;StratMid&#39;</span><span class="p">,</span> <span class="s1">&#39;StratHigh&#39;</span><span class="p">,</span> <span class="s1">&#39;Mixed&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;ConvElev&#39;</span><span class="p">,</span> <span class="s1">&#39;ConvLow&#39;</span><span class="p">,</span> <span class="s1">&#39;ConvMid&#39;</span><span class="p">,</span> <span class="s1">&#39;ConvDeep&#39;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Column max of Echo Type for radar mosaic: &quot;</span> <span class="o">+</span> <span class="n">startTimeStr</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="plot-vertical-sections-for-echo-type">
<h1>Plot vertical sections for Echo Type<a class="headerlink" href="#plot-vertical-sections-for-echo-type" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute W-E Ecco vertical section</span>
<span class="n">nYHalfEcco</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nYEcco</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">eccoVertWE</span> <span class="o">=</span> <span class="n">ecco3D</span><span class="p">[:,</span> <span class="n">nYHalfEcco</span><span class="p">:(</span><span class="n">nYHalfEcco</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="p">:]</span>
<span class="n">eccoVertWE</span> <span class="o">=</span> <span class="n">eccoVertWE</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">eccoVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">eccoVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;eccoVertWE.shape: &#39;</span><span class="p">,</span> <span class="n">eccoVertWE</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">eccoVertWE</span><span class="p">[</span><span class="n">eccoVertWE</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">eccoVertWEMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">ecco3D</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">eccoVertWEMax</span><span class="p">[</span><span class="n">eccoVertWEMax</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;eccoVertWEMax.shape: &#39;</span><span class="p">,</span> <span class="n">eccoVertWEMax</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Compute ecco N-S vertical section</span>
<span class="n">nXHalfEcco</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nXEcco</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">eccoVertNS</span> <span class="o">=</span> <span class="n">ecco3D</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">nXHalfEcco</span><span class="p">:(</span><span class="n">nXHalfEcco</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">eccoVertNS</span> <span class="o">=</span> <span class="n">eccoVertNS</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">eccoVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">eccoVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">eccoVertNS</span><span class="p">[</span><span class="n">eccoVertNS</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;eccoVertNS.shape: &#39;</span><span class="p">,</span> <span class="n">eccoVertNS</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">eccoVertNSMax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">ecco3D</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">eccoVertNSMax</span><span class="p">[</span><span class="n">eccoVertNSMax</span> <span class="o">==</span> <span class="n">fillValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;eccoVertNSMax.shape: &#39;</span><span class="p">,</span> <span class="n">eccoVertNSMax</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot mid W-E ecco vertical section</span>

<span class="n">figEccoVert</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">)</span>
<span class="n">axEv1</span> <span class="o">=</span> <span class="n">figEccoVert</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">,</span> <span class="n">xlim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonEcco</span><span class="p">,</span> <span class="n">maxLonEcco</span><span class="p">),</span> <span class="n">ylim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minHtEcco</span><span class="p">,</span> <span class="n">maxHtEcco</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">eccoVertWE</span><span class="p">,</span>
    <span class="n">vmin</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;rainbow&#39;</span><span class="p">,</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLonEcco</span><span class="p">,</span> <span class="n">maxLonEcco</span><span class="p">,</span> <span class="n">minHtEcco</span><span class="p">,</span> <span class="n">maxHtEcco</span><span class="p">))</span>
<span class="n">axEv1</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">axEv1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Longitude (deg)&#39;</span><span class="p">)</span>
<span class="n">axEv1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Height (km)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Echo type vert slice mid W-E: &quot;</span> <span class="o">+</span> <span class="n">startTimeStr</span><span class="p">)</span>

<span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;ecco&quot;</span><span class="p">,</span> <span class="n">cax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([</span><span class="mi">14</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">38</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;StratLowLow&#39;</span><span class="p">,</span> <span class="s1">&#39;StratMid&#39;</span><span class="p">,</span> <span class="s1">&#39;StratHigh&#39;</span><span class="p">,</span> <span class="s1">&#39;Mixed&#39;</span><span class="p">,</span> <span class="s1">&#39;ConvElev&#39;</span><span class="p">,</span> <span class="s1">&#39;ConvLow&#39;</span><span class="p">,</span> <span class="s1">&#39;ConvMid&#39;</span><span class="p">,</span> <span class="s1">&#39;ConvDeep&#39;</span><span class="p">])</span>

<span class="c1"># Plot mid N-S ecco vertical section</span>

<span class="n">axEv2</span> <span class="o">=</span> <span class="n">figEccoVert</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">,</span> <span class="n">xlim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLatEcco</span><span class="p">,</span> <span class="n">maxLatEcco</span><span class="p">),</span> <span class="n">ylim</span> <span class="o">=</span> <span class="p">(</span><span class="n">minHtEcco</span><span class="p">,</span> <span class="n">maxHtEcco</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">eccoVertNS</span><span class="p">,</span>
    <span class="n">vmin</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;rainbow&#39;</span><span class="p">,</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span><span class="p">,</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">minLatEcco</span><span class="p">,</span> <span class="n">maxLatEcco</span><span class="p">,</span> <span class="n">minHtEcco</span><span class="p">,</span> <span class="n">maxHtEcco</span><span class="p">))</span>
<span class="n">axEv2</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">axEv2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Latitude (deg)&#39;</span><span class="p">)</span>
<span class="n">axEv2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Height (km)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Echo type vert slice mid NS: &quot;</span> <span class="o">+</span> <span class="n">startTimeStr</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/lrose"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../../lrose/README.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">LROSE Tutorial</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../environment.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Environment overview</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </div>
          </div>
        </main>

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

<footer class="footer">
  <div class="container-fluid m-0 p-0">
  
    <div class="footer-item">
    
  <div class="container-fluid footer-logos">
    <div class="container-xl">
      <div class="row d-flex flex-wrap align-items-center">
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Meteoswiss" src="../../_images/meteoswiss_logo.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Meteofrance" src="../../_images/meteo-france.jpg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="ARM" src="../../_images/arm_logo.png" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Argonne" src="../../_images/argonne_logo.png" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Bonne" src="../../_images/university_bonn.png" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Canada" src="../../_images/environment_canada_logo.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="NCAR" src="../../_images/NCAR-contemp-logo-blue.svg" style="width: 100%">
        </div>
      </div>
    </div>
  </div>
    </div>
  
    <div class="footer-item">
    
    </div>
  
    <div class="footer-item">
      <div class="container-fluid footer-info">
    <div class="container-xl">
      <div class="d-flex justify-content-center">
        <p class="py-1 m-0">
            &copy;&nbsp;2022.
        
          By The Open Radar Community.
        
          Last updated on 20 June 2023.
        </p>
      </div>
    </div>
  </div>
    </div>
  
    <div class="footer-item">
    
    </div>
  
  </div>
</footer>
  </body>
</html>